<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Python Master Interactive - Comprehensive</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- FontAwesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Be+Vietnam+Pro:wght@400;500;600;700;800&family=Fira+Code:wght@400;500;600&display=swap" rel="stylesheet">
    <!-- PrismJS -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-python.min.js"></script>

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Be Vietnam Pro', 'sans-serif'],
                        mono: ['Fira Code', 'monospace'],
                    },
                    colors: {
                        pyBlue: '#306998',
                        pyYellow: '#FFD43B',
                    }
                }
            }
        }
    </script>
    <style>
        body { background-color: #f0f4f8; }
        
        /* Custom Scrollbar */
        ::-webkit-scrollbar { width: 8px; height: 8px; }
        ::-webkit-scrollbar-track { background: transparent; }
        ::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: #94a3b8; }

        .glass-panel {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.5);
        }

        .nav-active {
            background: linear-gradient(135deg, #306998 0%, #2563eb 100%);
            color: white;
            box-shadow: 0 4px 15px rgba(37, 99, 235, 0.3);
            transform: translateX(5px);
        }

        /* Modal Transitions */
        .modal-enter { opacity: 0; transform: scale(0.95); }
        .modal-enter-active { opacity: 1; transform: scale(1); transition: all 0.2s ease-out; }
        .modal-exit { opacity: 1; transform: scale(1); }
        .modal-exit-active { opacity: 0; transform: scale(0.95); transition: all 0.2s ease-in; }

        .code-preview {
            background: #1e1e1e;
            border-radius: 0.75rem;
            position: relative;
        }

        /* Quiz Styles */
        .quiz-option {
            transition: all 0.2s;
            cursor: pointer;
        }
        .quiz-option:hover {
            background-color: #f8fafc;
            border-color: #3b82f6;
        }
        .quiz-option.selected {
            background-color: #eff6ff;
            border-color: #2563eb;
            color: #1e40af;
        }
        .correct-answer {
            background-color: #dcfce7 !important;
            border-color: #22c55e !important;
            color: #14532d !important;
        }
        .wrong-answer {
            background-color: #fee2e2 !important;
            border-color: #ef4444 !important;
            color: #7f1d1d !important;
        }
    </style>
</head>
<body class="h-screen flex flex-col text-slate-800 overflow-hidden">

    <!-- Header -->
    <header class="h-16 bg-white border-b border-slate-200 flex items-center justify-between px-6 z-30 shrink-0 shadow-sm">
        <div class="flex items-center gap-3">
            <div class="w-9 h-9 bg-gradient-to-br from-pyBlue to-blue-600 rounded-lg flex items-center justify-center text-white shadow-lg">
                <i class="fa-brands fa-python text-xl"></i>
            </div>
            <div>
                <h1 class="font-bold text-lg text-slate-800 leading-tight">PYTHON TRAINING <span class="text-yellow-600">PRO</span></h1>
                <p class="text-[10px] font-bold text-slate-400 uppercase tracking-widest">CỐ GẮNG NHÉ BÉ IU CỦA ANH VAI ĐẸP CHƯƠNG</p>
            </div>
        </div>

        <div class="flex items-center gap-4">
            <!-- TAB SWITCHER (NEW) -->
            <div class="bg-slate-100 p-1 rounded-lg flex text-sm font-bold border border-slate-200">
                <button onclick="switchMainTab('theory')" id="btn-tab-theory" class="px-4 py-1.5 rounded-md transition-all shadow-sm bg-white text-blue-600">
                    <i class="fa-solid fa-book-open mr-2"></i>Lý Thuyết
                </button>
                <button onclick="switchMainTab('test')" id="btn-tab-test" class="px-4 py-1.5 rounded-md text-slate-500 hover:text-slate-700 transition-all">
                    <i class="fa-solid fa-pen-to-square mr-2"></i>Kiểm Tra Thử
                </button>
            </div>

            <div class="hidden md:flex items-center gap-2 text-xs font-semibold text-slate-500 bg-slate-100 px-3 py-1.5 rounded-full">
                <i class="fa-solid fa-layer-group text-blue-500"></i> l3vu0ng
            </div>
        </div>
    </header>

    <!-- MAIN CONTAINER -->
    <div class="flex-1 overflow-hidden relative">
        
        <!-- === TAB 1: THEORY (Keep 100% Original Logic) === -->
        <div id="theory-tab" class="absolute inset-0 flex flex-col md:flex-row h-full w-full bg-slate-50/50">
            <!-- Sidebar -->
            <aside class="w-72 bg-white border-r border-slate-200 flex flex-col hidden md:flex z-20 h-full">
                <div class="p-4 overflow-y-auto flex-1 space-y-1" id="sidebar-list">
                    <!-- JS Generated -->
                </div>
            </aside>

            <!-- Main Content -->
            <main class="flex-1 flex flex-col relative overflow-hidden h-full">
                <!-- Mobile Nav -->
                <div class="md:hidden bg-white border-b border-slate-200 p-2 overflow-x-auto whitespace-nowrap flex gap-2 shrink-0" id="mobile-list"></div>

                <!-- Content Area -->
                <div id="content-display" class="flex-1 overflow-y-auto p-4 md:p-8 scroll-smooth pb-20">
                    <!-- JS Generated -->
                </div>
            </main>
        </div>

        <!-- === TAB 2: TEST (New Logic) === -->
        <div id="test-tab" class="absolute inset-0 hidden flex-col bg-slate-50 overflow-y-auto">
            <div class="max-w-4xl mx-auto w-full p-6 md:p-10 flex-1 flex flex-col">
                
                <!-- START SCREEN -->
                <div id="test-start-screen" class="flex-1 flex flex-col items-center justify-center text-center space-y-6 animate-[fadeIn_0.5s_ease-out]">
                    <div class="w-24 h-24 bg-blue-100 rounded-full flex items-center justify-center text-blue-600 mb-4 shadow-lg ring-4 ring-blue-50">
                        <i class="fa-solid fa-graduation-cap text-4xl"></i>
                    </div>
                    <h2 class="text-3xl font-bold text-slate-800">Kiểm Tra Kiến Thức Python</h2>
                    <p class="text-slate-600 max-w-lg text-lg">
                        Hệ thống sẽ chọn ngẫu nhiên <span class="font-bold text-blue-600">30 câu hỏi</span> từ ngân hàng đề.
                        Thuật toán ưu tiên các câu hỏi bạn chưa từng làm.
                    </p>
                    <div class="bg-white p-6 rounded-xl border border-slate-200 shadow-sm w-full max-w-md text-left space-y-3">
                        <div class="flex items-center gap-3">
                            <i class="fa-regular fa-clock text-slate-400"></i>
                            <span class="font-semibold text-slate-700">Thời gian:</span> Không giới hạn
                        </div>
                        <div class="flex items-center gap-3">
                            <i class="fa-solid fa-list-ol text-slate-400"></i>
                            <span class="font-semibold text-slate-700">Số lượng:</span> 30 câu
                        </div>
                        <div class="flex items-center gap-3">
                            <i class="fa-solid fa-shuffle text-slate-400"></i>
                            <span class="font-semibold text-slate-700">Chế độ:</span> Ngẫu nhiên thông minh
                        </div>
                    </div>
                    <button onclick="startTest()" class="px-8 py-4 bg-blue-600 hover:bg-blue-700 text-white font-bold rounded-xl shadow-lg shadow-blue-200 transition-all transform hover:scale-105 active:scale-95 text-lg">
                        Bắt Đầu Làm Bài
                    </button>
                </div>

                <!-- QUIZ SCREEN -->
                <div id="test-quiz-screen" class="hidden flex-col h-full">
                    <div class="flex justify-between items-center mb-6 bg-white p-4 rounded-xl border border-slate-200 shadow-sm sticky top-0 z-10">
                        <div class="font-bold text-slate-700 text-lg">Câu <span id="q-current">1</span>/<span id="q-total">30</span></div>
                        <div class="w-1/2 bg-slate-100 rounded-full h-2.5 mx-4">
                            <div id="progress-bar" class="bg-blue-600 h-2.5 rounded-full transition-all duration-300" style="width: 0%"></div>
                        </div>
                        <button onclick="submitTest()" class="text-sm font-bold text-white bg-green-500 hover:bg-green-600 px-4 py-2 rounded-lg transition-colors shadow-md">
                            Nộp Bài
                        </button>
                    </div>
                    
                    <div id="questions-container" class="space-y-8 pb-20">
                        <!-- Questions injected here -->
                    </div>
                </div>

                <!-- RESULT SCREEN -->
                <div id="test-result-screen" class="hidden flex-col items-center pt-8 pb-20">
                    <div class="bg-white p-8 rounded-2xl shadow-xl border border-slate-200 w-full max-w-3xl text-center mb-8">
                        <h2 class="text-2xl font-bold text-slate-800 mb-2">Kết Quả Bài Làm</h2>
                        <div class="text-6xl font-extrabold text-blue-600 mb-2" id="score-display">0/30</div>
                        <p class="text-slate-500 mb-6" id="score-message">Cố gắng hơn nhé!</p>
                        <div class="flex justify-center gap-4">
                            <button onclick="resetTest()" class="px-6 py-2.5 bg-slate-100 hover:bg-slate-200 text-slate-700 font-bold rounded-lg transition-colors">
                                <i class="fa-solid fa-rotate-right mr-2"></i>Làm Lại
                            </button>
                            <button onclick="switchMainTab('theory')" class="px-6 py-2.5 bg-blue-50 hover:bg-blue-100 text-blue-700 font-bold rounded-lg transition-colors">
                                <i class="fa-solid fa-book mr-2"></i>Ôn Lý Thuyết
                            </button>
                        </div>
                    </div>

                    <div class="w-full max-w-3xl">
                        <h3 class="font-bold text-slate-800 text-xl mb-4 flex items-center gap-2">
                            <i class="fa-solid fa-list-check text-blue-500"></i> Chi Tiết Đáp Án
                        </h3>
                        <div id="result-detail-container" class="space-y-6">
                            <!-- Results injected here -->
                        </div>
                    </div>
                </div>

            </div>
        </div>

    </div>

    <!-- PRIMARY MODAL (Details/Projects) - FROM ORIGINAL -->
    <div id="modal-overlay" class="fixed inset-0 bg-slate-900/70 backdrop-blur-sm z-40 hidden flex items-center justify-center p-4 transition-opacity duration-300 opacity-0">
        <div id="modal-panel" class="bg-white w-full max-w-6xl h-[90vh] rounded-2xl shadow-2xl flex flex-col overflow-hidden transform scale-95 transition-transform duration-300">
            <!-- Modal Header -->
            <div class="px-6 py-4 border-b border-slate-100 flex justify-between items-center bg-slate-50 shrink-0">
                <div class="flex items-center gap-4">
                    <div id="m-icon" class="w-10 h-10 rounded-lg flex items-center justify-center text-white text-xl shadow-md bg-blue-500">
                        <i class="fa-solid fa-code"></i>
                    </div>
                    <div>
                        <h2 id="m-title" class="text-xl font-bold text-slate-800 truncate max-w-md">Title</h2>
                        <p id="m-subtitle" class="text-xs text-slate-500 font-medium">Subtitle</p>
                    </div>
                </div>
                <div class="flex gap-2">
                    <button id="btn-helper-funcs" onclick="openHelperModal()" class="hidden px-4 py-2 bg-yellow-100 hover:bg-yellow-200 text-yellow-700 text-sm font-bold rounded-lg transition-colors flex items-center gap-2">
                        <i class="fa-solid fa-toolbox"></i> Hàm Hỗ Trợ
                    </button>
                    <button onclick="closeModal()" class="w-9 h-9 rounded-full hover:bg-red-50 hover:text-red-500 text-slate-400 transition-colors flex items-center justify-center">
                        <i class="fa-solid fa-xmark text-lg"></i>
                    </button>
                </div>
            </div>

            <!-- Modal Body -->
            <div class="flex-1 overflow-y-auto p-0 flex flex-col lg:flex-row">
                <!-- Left: Theory / Description / Visual -->
                <div class="w-full lg:w-5/12 p-6 md:p-8 bg-slate-50 border-b lg:border-b-0 lg:border-r border-slate-200 flex flex-col gap-6 overflow-y-auto">
                    
                    <div class="bg-white p-5 rounded-xl border border-slate-200 shadow-sm">
                        <h3 class="text-xs font-bold text-slate-400 uppercase tracking-wider mb-3">Mô tả chi tiết</h3>
                        <p id="m-desc" class="text-slate-700 text-lg leading-relaxed font-medium"></p>
                    </div>

                    <div id="m-visual-area" class="flex-1 flex flex-col justify-center min-h-[200px] bg-white rounded-xl border border-slate-200 shadow-sm p-4 hidden">
                        <!-- SVG Chart Rendered Here -->
                    </div>
                </div>

                <!-- Right: Code Editor -->
                <div class="w-full lg:w-7/12 bg-[#1e1e1e] flex flex-col overflow-hidden">
                    <div class="flex items-center justify-between px-4 py-2 bg-[#252526] border-b border-[#333]">
                        <span class="text-xs font-bold text-slate-400 uppercase"><i class="fa-brands fa-python mr-2"></i>Code Example</span>
                        <span class="text-[10px] text-slate-500">Read-only</span>
                    </div>
                    <div class="flex-1 overflow-auto custom-scrollbar p-4">
                        <pre class="!m-0 !p-0 !bg-transparent"><code id="m-code" class="language-python font-mono text-sm leading-6"></code></pre>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- SECONDARY MODAL (Helper Functions for Charts) - FROM ORIGINAL -->
    <div id="helper-overlay" class="fixed inset-0 bg-black/40 z-[60] hidden flex items-center justify-end">
        <div id="helper-panel" class="bg-white w-full md:w-[450px] h-full shadow-2xl transform translate-x-full transition-transform duration-300 flex flex-col">
            <div class="p-5 border-b border-slate-100 flex items-center justify-between bg-yellow-50">
                <h3 class="font-bold text-slate-800 flex items-center gap-2">
                    <i class="fa-solid fa-toolbox text-yellow-600"></i> Kho Hàm Hỗ Trợ
                </h3>
                <button onclick="closeHelperModal()" class="text-slate-400 hover:text-slate-700"><i class="fa-solid fa-xmark text-xl"></i></button>
            </div>
            <div class="flex-1 overflow-y-auto p-4 space-y-4 bg-slate-50" id="helper-list">
                <!-- Helper items injected here -->
            </div>
        </div>
    </div>

    <script>
        /* ================= DATA REPOSITORY (THEORY - 100% ORIGINAL) ================= */
        const SECTIONS = [
            {
                id: 'list', title: 'List', icon: 'fa-list-ol', color: 'blue',
                desc: 'Tập các giá trị có tính thứ tự và có thể thay đổi, phần tử có thể trùng lặp về giá trị.',
                items: [
                    { cmd: 'lst.append(value)', desc: 'Thêm 1 phần tử duy nhất vào cuối list (mọi kiểu dữ liệu)', ex: `# 1. Khởi tạo danh sách trái cây\nfruits = ['Táo', 'Chuối']\nprint(f"Danh sách gốc: {fruits}")\n\n# 2. Thêm 'Cam' vào cuối danh sách\nfruits.append('Cam')\n\n# 3. Kết quả\nprint(f"Sau khi append: {fruits}")\n# Output: Sau khi append: ['Táo', 'Chuối', 'Cam']` },
                    { cmd: 'lst.clear()', desc: 'Xóa toàn bộ phần tử trong list (list rỗng, không xóa biến)', ex: `# 1. Danh sách có dữ liệu\nnumbers = [1, 2, 3, 4, 5]\nprint(f"Trước khi xóa: {numbers}")\n\n# 2. Xóa sạch phần tử\nnumbers.clear()\n\n# 3. Kiểm tra lại\nprint(f"Sau khi clear: {numbers}")\n# Output: Sau khi clear: []` },
                    { cmd: 'lst.copy()', desc: 'Trả về bản sao độc lập của list', ex: `# 1. List gốc\noriginal = [1, 2, 3]\n\n# 2. Tạo bản sao (không trỏ cùng vùng nhớ)\ncopy_cat = original.copy()\n\n# 3. Thay đổi bản sao để chứng minh sự độc lập\ncopy_cat.append(4)\n\nprint(f"Gốc: {original}")      # Output: [1, 2, 3]\nprint(f"Sao: {copy_cat}")      # Output: [1, 2, 3, 4]` },
                    { cmd: 'lst.count(value)', desc: 'Đếm số lần xuất hiện của value', ex: `# 1. Danh sách điểm số\nscores = [10, 8, 9, 10, 7, 10]\n\n# 2. Đếm số điểm 10\ncount_10 = scores.count(10)\n\nprint(f"Số lượng điểm 10 là: {count_10}")\n# Output: Số lượng điểm 10 là: 3` },
                    { cmd: 'lst.extend(iterable)', desc: 'Thêm nhiều phần tử từ iterable vào cuối list', ex: `# 1. Hai danh sách riêng biệt\nlst1 = ['A', 'B']\nlst2 = ['C', 'D']\n\n# 2. Nối lst2 vào đuôi lst1\nlst1.extend(lst2)\n\nprint(f"Danh sách sau khi nối: {lst1}")\n# Output: ['A', 'B', 'C', 'D']` },
                    { cmd: 'lst.index(value[, start[, end]])', desc: 'Trả về vị trí đầu tiên tìm thấy value', ex: `# 1. Danh sách ký tự\nchars = ['a', 'b', 'c', 'd', 'b']\n\n# 2. Tìm vị trí đầu tiên của 'b'\npos = chars.index('b')\n\nprint(f"Ký tự 'b' xuất hiện lần đầu ở index: {pos}")\n# Output: 1` },
                    { cmd: 'lst.insert(index, value)', desc: 'Thêm value vào vị trí index chỉ định', ex: `# 1. Danh sách ban đầu\nnums = [1, 3, 4]\n\n# 2. Chèn số 2 vào vị trí index 1\nnums.insert(1, 2)\n\nprint(f"Danh sách sau khi chèn: {nums}")\n# Output: [1, 2, 3, 4]` },
                    { cmd: 'lst.pop([index])', desc: 'Xóa & trả về phần tử tại index; mặc định xóa cuối list', ex: `# 1. Stack (ngăn xếp)\nstack = ['Sách 1', 'Sách 2', 'Sách 3']\n\n# 2. Lấy cuốn sách cuối cùng ra (pop)\nitem = stack.pop()\n\nprint(f"Lấy ra: {item}")\nprint(f"Còn lại: {stack}")\n# Output: Lấy ra: Sách 3 | Còn lại: ['Sách 1', 'Sách 2']` },
                    { cmd: 'lst.remove(value)', desc: 'Xóa giá trị đầu tiên tìm thấy ( ❌ lỗi nếu không có)', ex: `# 1. Danh sách công việc\ntodos = ['Ăn', 'Ngủ', 'Code', 'Ngủ']\n\n# 2. Xóa việc 'Ngủ' đầu tiên tìm thấy\ntodos.remove('Ngủ')\n\nprint(f"Danh sách còn lại: {todos}")\n# Output: ['Ăn', 'Code', 'Ngủ'] (vẫn còn 1 'Ngủ' ở cuối)` },
                    { cmd: 'lst.reverse()', desc: 'Đảo ngược thứ tự list tại chỗ', ex: `# 1. Dãy số tăng dần\nnums = [1, 2, 3, 4, 5]\n\n# 2. Đảo ngược\nnums.reverse()\n\nprint(f"Đảo ngược: {nums}")\n# Output: [5, 4, 3, 2, 1]` },
                    { cmd: 'lst.sort(reverse=False)', desc: 'Sắp xếp list (False: tăng dần, True: giảm dần)', ex: `# 1. Danh sách lộn xộn\nnums = [5, 1, 9, 3]\n\n# 2. Sắp xếp tăng dần\nnums.sort()\nprint(f"Tăng dần: {nums}") # [1, 3, 5, 9]\n\n# 3. Sắp xếp giảm dần\nnums.sort(reverse=True)\nprint(f"Giảm dần: {nums}") # [9, 5, 3, 1]` },
                    { cmd: 'lst.sort(key=function)', desc: 'Sắp xếp list theo hàm key', ex: `# 1. Danh sách tên\nnames = ['Ana', 'Bob', 'Alexander']\n\n# 2. Sắp xếp theo độ dài tên (len)\nnames.sort(key=len)\n\nprint(f"Sắp xếp theo độ dài: {names}")\n# Output: ['Ana', 'Bob', 'Alexander']` },
                    { cmd: 'sorted(iterable)', desc: 'Hàm tạo list mới đã sắp xếp, không đổi list gốc', ex: `# 1. List gốc\nnums = [3, 1, 2]\n\n# 2. Tạo list mới đã sắp xếp\nnew_nums = sorted(nums)\n\nprint(f"Gốc: {nums}")      # [3, 1, 2] (Không đổi)\nprint(f"Mới: {new_nums}")  # [1, 2, 3] (Đã xếp)` },
                    { cmd: 'len(lst)', desc: 'Trả về số phần tử của list', ex: `# 1. Danh sách học sinh\nstudents = ['An', 'Bình', 'Chi']\n\n# 2. Lấy sĩ số\ncount = len(students)\n\nprint(f"Sĩ số lớp: {count}")\n# Output: 3` },
                    { cmd: 'value in lst', desc: 'Kiểm tra phần tử có tồn tại trong list', ex: `# 1. Menu quán\nmenu = ['Phở', 'Bún', 'Cơm']\n\n# 2. Kiểm tra món\nif 'Phở' in menu:\n    print("Có bán Phở!")\nelse:\n    print("Không có món này.")\n# Output: Có bán Phở!` },
                    { cmd: 'lst[::-1]', desc: 'Tạo list đảo ngược (không làm thay đổi list gốc)', ex: `# 1. List gốc\nnums = [1, 2, 3]\n\n# 2. Tạo list đảo ngược bằng slicing\nreversed_nums = nums[::-1]\n\nprint(f"Gốc: {nums}")\nprint(f"Đảo: {reversed_nums}")\n# Output: Đảo: [3, 2, 1]` },
                    { cmd: '[x for x in iterable]', desc: 'List Comprehension: Tạo list nhanh trong 1 dòng', ex: `# 1. Cách truyền thống\nnums = [1, 2, 3]\nsquares = []\nfor x in nums:\n    squares.append(x**2)\n\n# 2. Dùng List Comprehension (Ngắn gọn)\nsquares_pro = [x**2 for x in nums]\n\nprint(squares_pro)\n# Output: [1, 4, 9]` },
                    { cmd: 'del lst[index]', desc: 'Xóa phần tử theo index hoặc slice (từ khóa del)', ex: `# 1. Danh sách\na = [10, 20, 30, 40]\n\n# 2. Xóa phần tử index 1 (20)\ndel a[1]\n\n# 3. Xóa một lát cắt\ndel a[1:] # Xóa từ index 1 về sau\nprint(a) # Output: [10]` }
                ]
            },
            {
                id: 'tuple', title: 'Tuple', icon: 'fa-box', color: 'indigo',
                desc: 'Tập các giá trị có tính thứ tự và không thể thay đổi, phần tử có thể trùng lặp.',
                items: [
                    { cmd: 't.count(value)', desc: 'Trả về số lần xuất hiện của value trong tuple', ex: `# 1. Tuple kết quả gieo xúc xắc\ndice_rolls = (1, 6, 3, 6, 2, 6)\n\n# 2. Đếm số lần ra mặt 6\nsix_count = dice_rolls.count(6)\n\nprint(f"Số lần ra 6: {six_count}")\n# Output: 3` },
                    { cmd: 't.index(value)', desc: 'Trả về vị trí đầu tiên tìm thấy value', ex: `# 1. Tuple dữ liệu\ndata = ('Red', 'Green', 'Blue')\n\n# 2. Tìm vị trí màu xanh lá\nidx = data.index('Green')\n\nprint(f"Vị trí Green: {idx}")\n# Output: 1` },
                    { cmd: '(a, b, *rest) = t', desc: 'Giải nén tuple (rest là list các phần tử còn lại)', ex: `# 1. Tuple chứa thông tin\ninfo = (1, 2, 3, 4, 5, 6)\n\n# 2. Giải nén: Lấy 2 phần tử đầu, còn lại gom vào rest\na, b, *rest = info\n\nprint(f"a: {a}, b: {b}")\nprint(f"Phần còn lại: {rest}")\n# Output: a: 1, b: 2 | Phần còn lại: [3, 4, 5, 6]` },
                    { cmd: 't1 + t2', desc: 'Nối 2 tuple thành tuple mới', ex: `# 1. Hai tuple riêng\npart1 = (1, 2)\npart2 = (3, 4)\n\n# 2. Nối lại\nfull = part1 + part2\n\nprint(f"Tuple đầy đủ: {full}")\n# Output: (1, 2, 3, 4)` },
                    { cmd: 'value in t', desc: 'Kiểm tra phần tử có tồn tại trong tuple', ex: `# 1. Tuple các quyền truy cập\nroles = ('admin', 'editor', 'viewer')\n\n# 2. Kiểm tra quyền\nis_admin = 'admin' in roles\n\nprint(f"Là Admin? {is_admin}")\n# Output: True` },
                    { cmd: 'for x in t:', desc: 'Duyệt từng phần tử trong tuple', ex: `# 1. Tuple toạ độ\npoint = (10, 20, 30)\n\n# 2. Duyệt qua từng giá trị\nprint("Toạ độ:")\nfor axis in point:\n    print(f"- {axis}")\n# Output:\n# - 10\n# - 20\n# - 30` },
                    { cmd: 'len(t)', desc: 'Trả về số phần tử của tuple', ex: `# 1. Tuple ngày trong tuần\nweekdays = ('Mon', 'Tue', 'Wed', 'Thu', 'Fri')\n\nprint(f"Số ngày làm việc: {len(weekdays)}")\n# Output: 5` },
                    { cmd: 'max(t)', desc: 'Trả về giá trị lớn nhất', ex: `# 1. Điểm số các môn\nscores = (8.5, 9.0, 7.5, 10.0)\n\nprint(f"Điểm cao nhất: {max(scores)}")\n# Output: 10.0` },
                    { cmd: 'min(t)', desc: 'Trả về giá trị nhỏ nhất', ex: `# 1. Nhiệt độ trong tuần\ntemps = (25, 22, 28, 20)\n\nprint(f"Nhiệt độ thấp nhất: {min(temps)}")\n# Output: 20` },
                    { cmd: 'sum(t)', desc: 'Tính tổng các phần tử (tuple số)', ex: `# 1. Hoá đơn\nbills = (100, 200, 50)\n\nprint(f"Tổng tiền: {sum(bills)}")\n# Output: 350` }
                ]
            },
            {
                id: 'set', title: 'Set', icon: 'fa-layer-group', color: 'teal',
                desc: 'Tập các giá trị không thứ tự, không trùng lặp.',
                items: [
                    { cmd: 's.add(element)', desc: 'Thêm một phần tử vào set', ex: `# 1. Set ban đầu\nids = {101, 102}\n\n# 2. Thêm ID mới\nids.add(103)\nids.add(101) # Thêm trùng sẽ bị bỏ qua\n\nprint(f"Set ID: {ids}")\n# Output: {101, 102, 103}` },
                    { cmd: 's.clear()', desc: 'Xóa toàn bộ phần tử trong set', ex: `# 1. Set dữ liệu rác\ntrash = {'file1', 'file2'}\n\n# 2. Dọn dẹp\ntrash.clear()\n\nprint(f"Thùng rác: {trash}")\n# Output: set()` },
                    { cmd: 's.copy()', desc: 'Trả về bản sao của set', ex: `# 1. Set gốc\ns1 = {1, 2}\n\n# 2. Tạo bản sao\ns2 = s1.copy()\ns2.add(3)\n\nprint(f"S1: {s1} | S2: {s2}")\n# Output: S1: {1, 2} | S2: {1, 2, 3}` },
                    { cmd: 's.difference(*others)', desc: 'Trả về set mới chứa phần tử chỉ có trong s (Hiệu)', ex: `# 1. Học sinh lớp A và B\nclass_a = {'An', 'Bình', 'Chi'}\nclass_b = {'Bình', 'Dũng'}\n\n# 2. Tìm học sinh chỉ học lớp A (không học lớp B)\ndiff = class_a.difference(class_b)\n\nprint(f"Chỉ ở lớp A: {diff}")\n# Output: {'An', 'Chi'}` },
                    { cmd: 's.difference_update()', desc: 'Giống difference() nhưng thay đổi trực tiếp s', ex: `# 1. Danh sách cần làm\ntodos = {'Code', 'Eat', 'Sleep'}\ndone = {'Eat', 'Sleep'}\n\n# 2. Loại bỏ những việc đã làm khỏi todos\ntodos.difference_update(done)\n\nprint(f"Việc còn lại: {todos}")\n# Output: {'Code'}` },
                    { cmd: 's.discard(element)', desc: 'Xóa phần tử, không lỗi nếu không tồn tại', ex: `# 1. Set số\nnums = {1, 2, 3}\n\n# 2. Xóa số 2 (có tồn tại)\nnums.discard(2)\n\n# 3. Xóa số 99 (không tồn tại -> không lỗi)\nnums.discard(99)\n\nprint(nums)\n# Output: {1, 3}` },
                    { cmd: 's.intersection()', desc: 'Trả về set mới chứa giao của các set (&)', ex: `# 1. Kỹ năng của 2 ứng viên\ndev1 = {'Python', 'Java', 'SQL'}\ndev2 = {'Python', 'C++', 'SQL'}\n\n# 2. Tìm kỹ năng chung\ncommon = dev1.intersection(dev2)\n\nprint(f"Kỹ năng chung: {common}")\n# Output: {'Python', 'SQL'}` },
                    { cmd: 's.intersection_update()', desc: 'Giao set, cập nhật trực tiếp s (&=)', ex: `# 1. Lọc dữ liệu hợp lệ qua nhiều bước\ndata = {1, 2, 3, 4, 5}\nvalid_step1 = {2, 4, 6}\n\n# 2. Chỉ giữ lại phần tử có ở cả 2\ndata.intersection_update(valid_step1)\n\nprint(f"Dữ liệu hợp lệ: {data}")\n# Output: {2, 4}` },
                    { cmd: 's.isdisjoint(other)', desc: 'Trả về True nếu không có phần tử chung', ex: `# 1. Hai nhóm người\ngroup1 = {'A', 'B'}\ngroup2 = {'C', 'D'}\n\n# 2. Kiểm tra xem có giao nhau không\ncheck = group1.isdisjoint(group2)\n\nprint(f"Rời nhau hoàn toàn? {check}")\n# Output: True` },
                    { cmd: 's.issubset(other)', desc: 'True nếu s là tập con (<=)', ex: `# 1. Tập hợp\nsmall = {1, 2}\nbig = {1, 2, 3, 4}\n\n# 2. Kiểm tra small có nằm trong big không\nprint(f"Là tập con? {small.issubset(big)}")\n# Output: True` },
                    { cmd: 's.issuperset(other)', desc: 'True nếu s là tập cha (>=)', ex: `# 1. Kiểm tra tập cha\nbig = {1, 2, 3}\nsmall = {1}\n\nprint(f"Là tập cha? {big.issuperset(small)}")\n# Output: True` },
                    { cmd: 's.pop()', desc: 'Xóa ngẫu nhiên 1 phần tử và trả về nó', ex: `# 1. Hộp thăm\nlottery = {'Vé A', 'Vé B', 'Vé C'}\n\n# 2. Bốc thăm (ngẫu nhiên)\nwinner = lottery.pop()\n\nprint(f"Người trúng: {winner}")\nprint(f"Còn lại: {lottery}")` },
                    { cmd: 's.remove(element)', desc: 'Xóa phần tử, báo lỗi nếu không tồn tại', ex: `# 1. Set\ns = {1, 2, 3}\n\n# 2. Xóa phần tử 2\ns.remove(2)\nprint(s)\n\n# 3. Nếu xóa số 9 sẽ lỗi KeyError!\n# s.remove(9) -> Error` },
                    { cmd: 's.symmetric_difference()', desc: 'Phần tử chỉ xuất hiện ở 1 trong 2 set (^)', ex: `# 1. Sở thích 2 người\np1 = {'Nhạc', 'Phim'}\np2 = {'Nhạc', 'Game'}\n\n# 2. Tìm điểm KHÁC BIỆT (bù đối xứng)\ndiff = p1.symmetric_difference(p2)\n\nprint(f"Sở thích riêng: {diff}")\n# Output: {'Phim', 'Game'} (Bỏ 'Nhạc' vì cả 2 đều thích)` },
                    { cmd: 's.union(*others)', desc: 'Hợp các set (|)', ex: `# 1. Gom tất cả phần tử\ngroup1 = {1, 2}\ngroup2 = {3, 4}\n\n# 2. Hợp nhất\nall_nums = group1.union(group2)\n\nprint(f"Tất cả: {all_nums}")\n# Output: {1, 2, 3, 4}` },
                    { cmd: 's.update(*others)', desc: 'Thêm phần tử từ set khác (|=)', ex: `# 1. Kho hàng hiện tại\nstock = {'Táo', 'Lê'}\n\n# 2. Hàng mới về\nnew_items = {'Cam', 'Táo'}\n\n# 3. Cập nhật kho\nstock.update(new_items)\n\nprint(f"Kho mới: {stock}")\n# Output: {'Táo', 'Lê', 'Cam'}` },
                    { cmd: '{x for x in iter}', desc: 'Set Comprehension: Tạo set nhanh', ex: `# Tạo set bình phương, tự loại bỏ trùng lặp\nnums = [1, 2, 2, 3]\nunique_squares = {x**2 for x in nums}\nprint(unique_squares) # {1, 4, 9}` }
                ]
            },
            {
                id: 'dict', title: 'Dictionary', icon: 'fa-book', color: 'orange',
                desc: 'Tập các giá trị có thứ tự (Python 3.7+), key không trùng lặp.',
                items: [
                    { cmd: 'd.clear()', desc: 'Xóa toàn bộ phần tử trong dictionary', ex: `# 1. Dict User\nuser = {'id': 1, 'name': 'Admin'}\n\n# 2. Xóa dữ liệu\nuser.clear()\n\nprint(f"User sau khi clear: {user}")\n# Output: {}` },
                    { cmd: 'd.copy()', desc: 'Trả về một bản sao của dictionary', ex: `# 1. Config gốc\nconf = {'host': 'localhost', 'port': 80}\n\n# 2. Tạo bản sao để sửa đổi tạm\ntemp_conf = conf.copy()\ntemp_conf['port'] = 8080\n\nprint(f"Gốc: {conf['port']} | Mới: {temp_conf['port']}")\n# Output: Gốc: 80 | Mới: 8080` },
                    { cmd: 'dict.fromkeys(iter, v)', desc: 'Tạo dict mới với key từ iterable, value giống nhau', ex: `# 1. Danh sách người dùng\nusers = ['user1', 'user2', 'user3']\n\n# 2. Tạo dict trạng thái mặc định là 'offline'\nstatus = dict.fromkeys(users, 'offline')\n\nprint(status)\n# Output: {'user1': 'offline', 'user2': 'offline', ...}` },
                    { cmd: 'd.get(key, default)', desc: 'Trả về value; không lỗi nếu key không tồn tại', ex: `# 1. Thông tin sinh viên\nstudent = {'name': 'Nam', 'age': 20}\n\n# 2. Lấy điểm (chưa có trong dict)\n# Nếu dùng student['score'] sẽ lỗi. Dùng get sẽ an toàn.\nscore = student.get('score', 0)\n\nprint(f"Điểm số: {score}")\n# Output: 0` },
                    { cmd: 'd.items()', desc: 'Trả về view object gồm các cặp (key, value)', ex: `# 1. Dict giá sản phẩm\nprices = {'Táo': 10, 'Cam': 15}\n\n# 2. Duyệt qua cả tên và giá\nfor name, price in prices.items():\n    print(f"Món {name} giá {price}k")\n# Output:\n# Món Táo giá 10k\n# Món Cam giá 15k` },
                    { cmd: 'd.keys()', desc: 'Trả về view object chứa danh sách key', ex: `# 1. Dict\ninfo = {'name': 'A', 'age': 18}\n\n# 2. Lấy danh sách các trường (keys)\nkeys = info.keys()\n\nprint(f"Các trường thông tin: {list(keys)}")\n# Output: ['name', 'age']` },
                    { cmd: 'd.pop(key)', desc: 'Xóa phần tử theo key và trả về value', ex: `# 1. Dict kho\nstock = {'a': 100, 'b': 200}\n\n# 2. Lấy hàng 'a' ra và xóa khỏi kho\nval = stock.pop('a')\n\nprint(f"Lấy được: {val}")\nprint(f"Kho còn: {stock}")\n# Output: Lấy được: 100 | Kho còn: {'b': 200}` },
                    { cmd: 'd.popitem()', desc: 'Xóa cặp (key, value) cuối cùng và trả về nó', ex: `# 1. Dict log\nlogs = {'err1': 'Fix', 'err2': 'Bug'}\n\n# 2. Xóa phần tử được thêm vào sau cùng (LIFO)\nitem = logs.popitem()\n\nprint(f"Vừa xóa: {item}")\n# Output: ('err2', 'Bug')` },
                    { cmd: 'd.setdefault(k, v)', desc: 'Trả về value nếu key tồn tại, không thì thêm key:v', ex: `# 1. Settings\nsettings = {'theme': 'dark'}\n\n# 2. Lấy ngôn ngữ, nếu chưa có thì set là 'en'\nlang = settings.setdefault('lang', 'en')\n\nprint(f"Language: {lang}")\nprint(f"Settings hiện tại: {settings}")\n# Output: {'theme': 'dark', 'lang': 'en'}` },
                    { cmd: 'd.update(other)', desc: 'Cập nhật / thêm các cặp key:value từ dict khác', ex: `# 1. Profile cũ\nprofile = {'name': 'Long', 'age': 20}\n\n# 2. Thông tin cập nhật\nnew_data = {'age': 21, 'job': 'Dev'}\n\n# 3. Update\nprofile.update(new_data)\n\nprint(profile)\n# Output: {'name': 'Long', 'age': 21, 'job': 'Dev'}` },
                    { cmd: 'd.values()', desc: 'Trả về view object chứa danh sách value', ex: `# 1. Điểm thi\nscores = {'Toán': 8, 'Lý': 9}\n\n# 2. Lấy danh sách điểm để tính trung bình\nvalues = list(scores.values())\navg = sum(values) / len(values)\n\nprint(f"Trung bình: {avg}")\n# Output: 8.5` },
                    { cmd: 'sorted(d)', desc: 'Sắp xếp key của dict', ex: `# 1. Dict không thứ tự\ndata = {'c': 1, 'a': 2, 'b': 3}\n\n# 2. Sắp xếp các key\nsorted_keys = sorted(data)\n\nprint(f"Key đã xếp: {sorted_keys}")\n# Output: ['a', 'b', 'c']` },
                    { cmd: '{k:v for k,v in iter}', desc: 'Dict Comprehension: Tạo dict nhanh', ex: `# Tạo dict bình phương\nnums = [1, 2, 3]\nd = {x: x**2 for x in nums}\nprint(d) # {1: 1, 2: 4, 3: 9}` }
                ]
            },
            {
                id: 'common_funcs', title: 'Hàm Thông Dụng', icon: 'fa-screwdriver-wrench', color: 'slate',
                desc: 'Tổng hợp các hàm Built-in và Lambda.',
                items: [
                    { cmd: 'lambda', desc: 'Hàm ẩn danh: lambda input : output', ex: `# 1. Hàm tính bình phương nhanh\nsq = lambda x: x ** 2\n\n# 2. Sử dụng\nprint(f"5 bình phương là: {sq(5)}")\n# Output: 25\n\n# Thường dùng trong sort, map, filter\npairs = [(1, 'one'), (3, 'three'), (2, 'two')]\npairs.sort(key=lambda x: x[0]) # Sort theo số` },
                    { cmd: 'abs(x)', desc: 'Trả về giá trị tuyệt đối của x', ex: `# 1. Số âm\nnum = -15.5\n\n# 2. Lấy trị tuyệt đối\nval = abs(num)\n\nprint(f"Tuyệt đối của {num} là {val}")\n# Output: 15.5` },
                    { cmd: 'all(iterable)', desc: 'True nếu tất cả phần tử đều đúng', ex: `# 1. Danh sách điều kiện\nchecks = [True, True, False]\n\n# 2. Kiểm tra tất cả có đúng không\nis_ok = all(checks)\n\nprint(f"Tất cả đúng? {is_ok}")\n# Output: False` },
                    { cmd: 'any(iterable)', desc: 'True nếu có ít nhất một phần tử đúng', ex: `# 1. Danh sách lỗi (False là không lỗi)\nerrors = [False, False, True] # Có 1 lỗi\n\n# 2. Kiểm tra có bất kỳ lỗi nào không\nhas_error = any(errors)\n\nprint(f"Có lỗi? {has_error}")\n# Output: True` },
                    { cmd: 'ascii(object)', desc: 'Trả về chuỗi ASCII, ký tự đặc biệt được escape', ex: `# 1. Chuỗi có ký tự đặc biệt (tiếng Việt)\ntext = "Hà Nội"\n\n# 2. Chuyển sang dạng ASCII safe\nsafe_text = ascii(text)\n\nprint(safe_text)\n# Output: 'H\\xe0 N\\u1ed9i'` },
                    { cmd: 'bin(x)', desc: 'Chuyển số nguyên x sang nhị phân', ex: `# 1. Số nguyên\nn = 10\n\n# 2. Chuyển sang nhị phân (binary)\nb = bin(n)\n\nprint(f"10 hệ nhị phân: {b}")\n# Output: 0b1010` },
                    { cmd: 'bool(x)', desc: 'Chuyển x sang giá trị Boolean', ex: `# 1. Các giá trị khác nhau\nprint(f"0 là: {bool(0)}")        # False\nprint(f"1 là: {bool(1)}")        # True\nprint(f"List rỗng: {bool([])}")  # False\nprint(f"List có data: {bool([1])}") # True` },
                    { cmd: 'bytearray([source])', desc: 'Tạo mảng byte có thể thay đổi', ex: `# 1. Tạo mảng byte từ chuỗi\narr = bytearray("ABC", "utf-8")\n\n# 2. Thay đổi phần tử đầu tiên (65 -> 66)\narr[0] = 66\n\nprint(f"Sau khi sửa: {arr}")\n# Output: bytearray(b'BBC')` },
                    { cmd: 'bytes([source])', desc: 'Tạo đối tượng byte', ex: `# 1. Tạo bytes (không thay đổi được)\nb = bytes([65, 66, 67])\n\nprint(f"Bytes: {b}")\n# Output: b'ABC'` },
                    { cmd: 'callable(object)', desc: 'Kiểm tra object có gọi được hay không', ex: `# 1. Biến thường và hàm\nx = 10\ndef my_func(): pass\n\nprint(f"x gọi được không? {callable(x)}")       # False\nprint(f"func gọi được không? {callable(my_func)}") # True` },
                    { cmd: 'chr(i)', desc: 'Chuyển mã Unicode i thành ký tự', ex: `# 1. Mã Unicode của chữ A là 65\ncode = 65\n\n# 2. Chuyển thành ký tự\nchar = chr(code)\n\nprint(f"Ký tự: {char}")\n# Output: A` },
                    { cmd: 'classmethod(fn)', desc: 'Chuyển method thành phương thức lớp', ex: `class MyClass:\n    @classmethod\n    def info(cls):\n        return "Đây là class method"\n\n# Gọi trực tiếp từ Class không cần instance\nprint(MyClass.info())` },
                    { cmd: 'compile()', desc: 'Biên dịch mã nguồn', ex: `# 1. Mã nguồn dạng chuỗi\ncode_str = "print('Hello Compiled')"\n\n# 2. Biên dịch\ncode_obj = compile(code_str, 'string', 'exec')\n\n# 3. Thực thi\nexec(code_obj)\n# Output: Hello Compiled` },
                    { cmd: 'complex(real, imag)', desc: 'Tạo số phức', ex: `# 1. Tạo số phức 1 phần thực, 2 phần ảo\nc = complex(1, 2)\n\nprint(f"Số phức: {c}")\n# Output: (1+2j)` },
                    { cmd: 'delattr(obj, name)', desc: 'Xóa thuộc tính của object', ex: `class Person:\n    name = "A"\n\np = Person()\ndelattr(Person, 'name')\n# Giờ truy cập Person.name sẽ lỗi` },
                    { cmd: 'dict()', desc: 'Tạo dictionary', ex: `# 1. Tạo dict từ keyword arguments\nd = dict(name="Nam", age=20)\n\nprint(d)\n# Output: {'name': 'Nam', 'age': 20}` },
                    { cmd: 'dir([object])', desc: 'Liệt kê thuộc tính và method', ex: `# 1. Xem list có những hàm gì\nmethods = dir([])\n\nprint(f"Các phương thức của list: {methods[:3]}...")\n# Output: ['__add__', '__class__', '__contains__', ...]` },
                    { cmd: 'divmod(a, b)', desc: 'Trả về (a // b, a % b)', ex: `# 1. Chia lấy thương và dư\n# 10 chia 3 được 3 dư 1\nresult = divmod(10, 3)\n\nprint(f"Thương và Dư: {result}")\n# Output: (3, 1)` },
                    { cmd: 'enumerate()', desc: 'Lấy chỉ số và giá trị', ex: `# 1. Danh sách món ăn\nfoods = ['Phở', 'Bún', 'Miến']\n\n# 2. Duyệt kèm số thứ tự\nfor index, item in enumerate(foods, start=1):\n    print(f"{index}. {item}")\n# Output:\n# 1. Phở\n# 2. Bún...` },
                    { cmd: 'eval(expr)', desc: 'Thực thi biểu thức Python', ex: `# 1. Biểu thức toán học dạng chuỗi\nexpr = "10 + 20 * 2"\n\n# 2. Tính toán\nres = eval(expr)\n\nprint(f"Kết quả: {res}")\n# Output: 50` },
                    { cmd: 'exec(code)', desc: 'Thực thi đoạn mã Python', ex: `# 1. Đoạn code phức tạp dạng chuỗi\ncode = """\nx = 5\ny = 10\nprint('Tổng:', x + y)\n"""\n\n# 2. Chạy đoạn code đó\nexec(code)\n# Output: Tổng: 15` },
                    { cmd: 'filter(fn, iter)', desc: 'Lọc phần tử theo điều kiện', ex: `# 1. Danh sách số\nnums = [1, -2, 3, -4, 5]\n\n# 2. Lọc số dương\npos = list(filter(lambda x: x > 0, nums))\n\nprint(f"Số dương: {pos}")\n# Output: [1, 3, 5]` },
                    { cmd: 'float(x)', desc: 'Chuyển sang số thực', ex: `# 1. Chuỗi số\ns = "3.14"\n\n# 2. Chuyển thành float để tính toán\nf = float(s)\n\nprint(f"Cộng thêm 1: {f + 1}")\n# Output: 4.14` },
                    { cmd: 'format(val, spec)', desc: 'Định dạng giá trị', ex: `# 1. Số thập phân dài\npi = 3.14159265\n\n# 2. Định dạng lấy 2 số lẻ\nfmt = format(pi, '.2f')\n\nprint(f"Pi làm tròn: {fmt}")\n# Output: 3.14` },
                    { cmd: 'frozenset(iter)', desc: 'Tạo tập hợp không thay đổi', ex: `# 1. Tạo frozenset\nfs = frozenset([1, 2, 3])\n\n# fs.add(4) -> Sẽ báo lỗi vì không thể thay đổi\nprint(fs)\n# Output: frozenset({1, 2, 3})` },
                    { cmd: 'getattr(obj, name)', desc: 'Lấy giá trị thuộc tính', ex: `class Car: color = "Red"\n\nc = Car()\n# Lấy thuộc tính bằng tên chuỗi\nval = getattr(c, 'color')\n\nprint(f"Màu xe: {val}")\n# Output: Red` },
                    { cmd: 'globals()', desc: 'Trả về bảng biến toàn cục', ex: `# In ra dict chứa các biến global hiện tại\ng = globals()\nprint("Tên file hiện tại:", g.get('__name__'))` },
                    { cmd: 'hasattr(obj, name)', desc: 'Kiểm tra có thuộc tính', ex: `class User: name = "Admin"\nu = User()\n\n# Kiểm tra xem u có thuộc tính 'age' không\nif hasattr(u, 'age'):\n    print(u.age)\nelse:\n    print("Không có tuổi")\n# Output: Không có tuổi` },
                    { cmd: 'hash(object)', desc: 'Trả về giá trị băm', ex: `# Lấy hash của chuỗi (dùng để so sánh nhanh hoặc làm key dict)\nh = hash("Python")\nprint(f"Hash: {h}")` },
                    { cmd: 'help([object])', desc: 'Hiển thị trợ giúp', ex: `# Hiển thị hướng dẫn sử dụng hàm print\nhelp(print)` },
                    { cmd: 'hex(x)', desc: 'Chuyển số sang hệ 16', ex: `# 1. Số RGB trắng\nwhite = 255\n\n# 2. Chuyển sang hex\nh = hex(white)\n\nprint(f"Mã hex: {h}")\n# Output: 0xff` },
                    { cmd: 'id(object)', desc: 'Trả về định danh bộ nhớ', ex: `a = 10\nb = 10\n# Python tối ưu số nhỏ nên ID giống nhau\nprint(f"ID a: {id(a)}")\nprint(f"ID b: {id(b)}")` },
                    { cmd: 'input([prompt])', desc: 'Nhập dữ liệu từ bàn phím', ex: `# name = input("Nhập tên: ")\n# print(f"Xin chào {name}")` },
                    { cmd: 'int(x, base)', desc: 'Chuyển sang số nguyên', ex: `# 1. Chuỗi số\ns = "100"\n\n# 2. Chuyển thành int\nn = int(s)\n\nprint(n + 50)\n# Output: 150` },
                    { cmd: 'isinstance()', desc: 'Kiểm tra kiểu object', ex: `# Kiểm tra biến x có phải số nguyên không\nx = 10\nprint(isinstance(x, int)) # True\nprint(isinstance(x, str)) # False` },
                    { cmd: 'issubclass()', desc: 'Kiểm tra kế thừa', ex: `class Cha: pass\nclass Con(Cha): pass\n\n# Kiểm tra Con có kế thừa Cha không\nprint(issubclass(Con, Cha)) # True` },
                    { cmd: 'iter(object)', desc: 'Tạo iterator', ex: `# 1. List\nlst = [1, 2]\n\n# 2. Tạo iterator\nit = iter(lst)\n\nprint(next(it)) # 1\nprint(next(it)) # 2` },
                    { cmd: 'len(object)', desc: 'Lấy độ dài', ex: `print(len("Hello")) # 5\nprint(len([1, 2, 3])) # 3` },
                    { cmd: 'list(iterable)', desc: 'Tạo list', ex: `# Chuyển tuple sang list\nt = (1, 2)\nl = list(t)\nprint(l) # [1, 2]` },
                    { cmd: 'locals()', desc: 'Trả về bảng biến cục bộ', ex: `def func():\n    x = 10\n    print(locals()) # {'x': 10}\n\nfunc()` },
                    { cmd: 'map(fn, iter)', desc: 'Áp dụng hàm cho từng phần tử', ex: `# 1. List số\nnums = [1, 2, 3]\n\n# 2. Nhân đôi từng số\ndoubled = list(map(lambda x: x*2, nums))\n\nprint(doubled)\n# Output: [2, 4, 6]` },
                    { cmd: 'max(iterable)', desc: 'Giá trị lớn nhất', ex: `print(max([10, 5, 20])) # 20` },
                    { cmd: 'memoryview(obj)', desc: 'Truy cập trực tiếp bộ nhớ', ex: `b = bytearray(b'abc')\nmv = memoryview(b)\nprint(mv[0]) # 97` },
                    { cmd: 'min(iterable)', desc: 'Giá trị nhỏ nhất', ex: `print(min([10, 5, 20])) # 5` },
                    { cmd: 'next(iterator)', desc: 'Lấy phần tử tiếp theo', ex: `it = iter([1, 2])\nprint(next(it)) # 1` },
                    { cmd: 'object()', desc: 'Tạo object mới', ex: `# Tạo một object trống cơ bản nhất\no = object()\nprint(dir(o))` },
                    { cmd: 'oct(x)', desc: 'Chuyển số sang hệ 8', ex: `print(oct(8)) # 0o10` },
                    { cmd: 'open(file, mode)', desc: 'Mở file', ex: `# f = open("data.txt", "w")\n# f.write("Hello")\n# f.close()` },
                    { cmd: 'ord(c)', desc: 'Chuyển ký tự thành mã Unicode', ex: `print(ord('A')) # 65` },
                    { cmd: 'pow(x, y)', desc: 'Tính x mũ y', ex: `# 2 mũ 3\nprint(pow(2, 3)) # 8` },
                    { cmd: 'print(*objects)', desc: 'In ra màn hình', ex: `print("Xin", "Chào", sep="-")\n# Output: Xin-Chào` },
                    { cmd: 'property()', desc: 'Định nghĩa property', ex: `class C:\n    def __init__(self): self._x = 0\n    def getx(self): return self._x\n    x = property(getx)` },
                    { cmd: 'range()', desc: 'Tạo dãy số', ex: `# Từ 0 đến 4\nprint(list(range(5))) # [0, 1, 2, 3, 4]` },
                    { cmd: 'repr(object)', desc: 'Chuỗi biểu diễn chính xác', ex: `s = "Hello"\nprint(repr(s)) # 'Hello' (có dấu nháy)` },
                    { cmd: 'reversed(iter)', desc: 'Đảo ngược iterable', ex: `lst = [1, 2]\nrev = list(reversed(lst))\nprint(rev) # [2, 1]` },
                    { cmd: 'round(x, n)', desc: 'Làm tròn số', ex: `print(round(3.567, 1)) # 3.6` },
                    { cmd: 'set(iterable)', desc: 'Tạo tập hợp', ex: `print(set([1, 2, 1])) # {1, 2}` },
                    { cmd: 'setattr()', desc: 'Gán thuộc tính', ex: `class A: pass\na = A()\nsetattr(a, 'x', 10)\nprint(a.x) # 10` },
                    { cmd: 'slice()', desc: 'Tạo đối tượng cắt', ex: `s = slice(0, 2)\nlst = [1, 2, 3]\nprint(lst[s]) # [1, 2]` },
                    { cmd: 'sorted()', desc: 'Sắp xếp', ex: `print(sorted([3, 1, 2])) # [1, 2, 3]` },
                    { cmd: 'staticmethod()', desc: 'Phương thức tĩnh', ex: `class Math:\n    @staticmethod\n    def add(a, b): return a + b\n\nprint(Math.add(1, 2))` },
                    { cmd: 'str(object)', desc: 'Chuyển sang chuỗi', ex: `print(str(100) + "k") # 100k` },
                    { cmd: 'sum(iterable)', desc: 'Tính tổng', ex: `print(sum([1, 2, 3])) # 6` },
                    { cmd: 'super()', desc: 'Truy cập lớp cha', ex: `class Cha: \n    def hi(self): print("Hi")\nclass Con(Cha):\n    def hi(self):\n        super().hi()\n        print("Con")` },
                    { cmd: 'tuple(iterable)', desc: 'Tạo tuple', ex: `print(tuple([1, 2])) # (1, 2)` },
                    { cmd: 'type(object)', desc: 'Trả về kiểu dữ liệu', ex: `print(type(123)) # <class 'int'>` },
                    { cmd: 'vars(object)', desc: 'Trả về __dict__', ex: `class A: x=1\nprint(vars(A))` },
                    { cmd: 'zip(iter1, ...)', desc: 'Ghép nhiều iterable', ex: `names = ['A', 'B']\nages = [20, 30]\nprint(list(zip(names, ages)))\n# [('A', 20), ('B', 30)]` },
                    { cmd: 'try...except', desc: 'Xử lý ngoại lệ (Exception Handling)', ex: `try:\n    print(10/0)\nexcept ZeroDivisionError:\n    print("Không thể chia cho 0!")\nfinally:\n    print("Kết thúc")` },
                    { cmd: 'with open(...)', desc: 'Quản lý file an toàn (Context Manager)', ex: `# Tự động đóng file sau khi dùng xong\nwith open("test.txt", "w") as f:\n    f.write("Hello")\n# Ra khỏi khối with là file đã đóng` },
                    { cmd: 'x is y', desc: 'So sánh định danh (Identity check)', ex: `a = [1]; b = [1]\nprint(a == b) # True (giá trị giống nhau)\nprint(a is b) # False (2 object khác nhau trong bộ nhớ)` }
                ]
            },
            {
                id: 'string', title: 'String', icon: 'fa-font', color: 'pink',
                desc: 'Các hàm cơ bản xử lý chuỗi ký tự.',
                items: [
                    { cmd: 's.capitalize()', desc: 'Chuyển ký tự đầu tiên thành chữ hoa', ex: `# Chuỗi thường\ns = "python programming"\n\n# Viết hoa chữ đầu\nprint(s.capitalize())\n# Output: Python programming` },
                    { cmd: 's.casefold()', desc: 'Chuyển toàn bộ chuỗi sang chữ thường (mạnh hơn lower)', ex: `# Chuỗi tiếng Đức\ns = "Der Fluß"\n\n# Chuyển thường (ß -> ss)\nprint(s.casefold())\n# Output: der fluss` },
                    { cmd: 's.center(w, fill)', desc: 'Trả về chuỗi được căn giữa', ex: `text = "Menu"\n\n# Căn giữa trong độ rộng 20, lấp đầy bằng dấu *\nprint(text.center(20, "*"))\n# Output: ********Menu********` },
                    { cmd: 's.count(sub)', desc: 'Đếm số lần xuất hiện của chuỗi con', ex: `s = "banana"\n\n# Đếm chữ 'a'\nprint(s.count('a'))\n# Output: 3` },
                    { cmd: 's.encode()', desc: 'Mã hóa chuỗi', ex: `s = "Hà Nội"\n\n# Mã hóa sang bytes UTF-8\nb = s.encode('utf-8')\nprint(b)\n# Output: b'H\\xc3\\xa0 N\\xe1\\xbb\\x99i'` },
                    { cmd: 's.endswith(suffix)', desc: 'Trả về True nếu kết thúc bằng giá trị chỉ định', ex: `filename = "image.png"\n\n# Kiểm tra đuôi file\nif filename.endswith(".png"):\n    print("Là file ảnh")\n# Output: Là file ảnh` },
                    { cmd: 's.expandtabs()', desc: 'Thiết lập kích thước tab', ex: `s = "Cot1\\tCot2"\n\n# Thay tab bằng 4 khoảng trắng\nprint(s.expandtabs(4))\n# Output: Cot1    Cot2` },
                    { cmd: 's.find(sub)', desc: 'Tìm vị trí đầu tiên của chuỗi con', ex: `email = "user@example.com"\n\n# Tìm vị trí @\npos = email.find("@")\nprint(pos)\n# Output: 4` },
                    { cmd: 's.format()', desc: 'Định dạng chuỗi', ex: `age = 25\ntext = "Tôi {} tuổi".format(age)\nprint(text)\n# Output: Tôi 25 tuổi` },
                    { cmd: 's.format_map()', desc: 'Định dạng chuỗi từ dict', ex: `data = {'name': 'Nam', 'job': 'Dev'}\nprint("{name} là {job}".format_map(data))\n# Output: Nam là Dev` },
                    { cmd: 's.index(sub)', desc: 'Tìm vị trí của chuỗi con (lỗi nếu không có)', ex: `s = "hello"\nprint(s.index("e")) # 1\n# print(s.index("z")) -> Error` },
                    { cmd: 's.isalnum()', desc: 'Kiểm tra chuỗi chỉ gồm chữ và số', ex: `print("User123".isalnum()) # True\nprint("User 123".isalnum()) # False (vì có dấu cách)` },
                    { cmd: 's.isalpha()', desc: 'Kiểm tra chuỗi chỉ gồm chữ cái', ex: `print("abc".isalpha()) # True\nprint("abc1".isalpha()) # False` },
                    { cmd: 's.isascii()', desc: 'Kiểm tra chuỗi chỉ gồm ký tự ASCII', ex: `print("abc".isascii()) # True\nprint("Hà Nội".isascii()) # False` },
                    { cmd: 's.isdecimal()', desc: 'Kiểm tra chuỗi chỉ gồm số thập phân', ex: `print("123".isdecimal()) # True` },
                    { cmd: 's.isdigit()', desc: 'Kiểm tra chuỗi chỉ gồm chữ số', ex: `print("0123".isdigit()) # True` },
                    { cmd: 's.isidentifier()', desc: 'Kiểm tra có phải tên định danh hợp lệ', ex: `print("var_1".isidentifier()) # True\nprint("1var".isidentifier()) # False (không được bắt đầu bằng số)` },
                    { cmd: 's.islower()', desc: 'Kiểm tra tất cả ký tự là chữ thường', ex: `print("abc".islower()) # True` },
                    { cmd: 's.isnumeric()', desc: 'Kiểm tra chuỗi chỉ gồm ký tự số', ex: `print("½".isnumeric()) # True` },
                    { cmd: 's.isprintable()', desc: 'Kiểm tra chuỗi chỉ gồm ký tự in được', ex: `print("Hi".isprintable()) # True\nprint("Hi\\n".isprintable()) # False (xuống dòng)` },
                    { cmd: 's.isspace()', desc: 'Kiểm tra chuỗi chỉ gồm khoảng trắng', ex: `print("   ".isspace()) # True` },
                    { cmd: 's.istitle()', desc: 'Kiểm tra chuỗi theo dạng tiêu đề', ex: `print("Hello World".istitle()) # True` },
                    { cmd: 's.isupper()', desc: 'Kiểm tra tất cả ký tự là chữ hoa', ex: `print("ABC".isupper()) # True` },
                    { cmd: 's.join(iter)', desc: 'Ghép các phần tử iterable thành chuỗi', ex: `words = ["Python", "is", "cool"]\n\n# Ghép bằng dấu cách\ns = " ".join(words)\nprint(s)\n# Output: Python is cool` },
                    { cmd: 's.ljust(width)', desc: 'Căn trái chuỗi', ex: `s = "A"\nprint(s.ljust(5, "-"))\n# Output: A----` },
                    { cmd: 's.lower()', desc: 'Chuyển chuỗi sang chữ thường', ex: `print("HELLO".lower()) # hello` },
                    { cmd: 's.lstrip()', desc: 'Xóa ký tự/khoảng trắng bên trái', ex: `print("   abc".lstrip()) # abc` },
                    { cmd: 's.maketrans()', desc: 'Tạo bảng chuyển đổi ký tự', ex: `txt = "Hello Sam!"\nmytable = str.maketrans("S", "P")\nprint(txt.translate(mytable))\n# Output: Hello Pam!` },
                    { cmd: 's.partition(sep)', desc: 'Tách chuỗi thành 3 phần', ex: `s = "a=b"\nprint(s.partition("=")) \n# Output: ('a', '=', 'b')` },
                    { cmd: 's.replace(old, new)', desc: 'Thay thế chuỗi con', ex: `s = "I like Java"\nprint(s.replace("Java", "Python"))\n# Output: I like Python` },
                    { cmd: 's.rfind(sub)', desc: 'Tìm vị trí cuối cùng của chuỗi con', ex: `s = "haha"\nprint(s.rfind("a")) \n# Output: 3 (chữ a cuối)` },
                    { cmd: 's.rindex(sub)', desc: 'Tìm vị trí cuối (lỗi nếu không tồn tại)', ex: `s = "banana"\nprint(s.rindex("a")) # 5` },
                    { cmd: 's.rjust(width)', desc: 'Căn phải chuỗi', ex: `s = "A"\nprint(s.rjust(5, "-"))\n# Output: ----A` },
                    { cmd: 's.rpartition(sep)', desc: 'Tách chuỗi từ bên phải thành 3 phần', ex: `s = "folder/file.txt"\nprint(s.rpartition("/"))\n# Output: ('folder', '/', 'file.txt')` },
                    { cmd: 's.rsplit()', desc: 'Tách chuỗi từ bên phải', ex: `s = "apple, banana, cherry"\n# Tách tối đa 1 lần từ bên phải\nprint(s.rsplit(", ", 1))\n# Output: ['apple, banana', 'cherry']` },
                    { cmd: 's.rstrip()', desc: 'Xóa ký tự/khoảng trắng bên phải', ex: `s = "hello   "\nprint(s.rstrip() + "!") # hello!` },
                    { cmd: 's.split(sep)', desc: 'Tách chuỗi thành danh sách', ex: `s = "a,b,c"\nprint(s.split(",")) # ['a', 'b', 'c']` },
                    { cmd: 's.splitlines()', desc: 'Tách chuỗi theo dòng', ex: `s = "Line1\\nLine2"\nprint(s.splitlines())\n# Output: ['Line1', 'Line2']` },
                    { cmd: 's.startswith(prefix)', desc: 'Trả về True nếu bắt đầu bằng giá trị', ex: `print("http://google.com".startswith("http")) # True` },
                    { cmd: 's.strip()', desc: 'Xóa ký tự/khoảng trắng hai bên', ex: `s = "  abc  "\nprint(s.strip()) # abc` },
                    { cmd: 's.swapcase()', desc: 'Đổi chữ hoa ↔ chữ thường', ex: `print("Python".swapcase()) # pYTHON` },
                    { cmd: 's.title()', desc: 'Viết hoa chữ cái đầu mỗi từ', ex: `print("the lord of rings".title())\n# Output: The Lord Of Rings` },
                    { cmd: 's.translate(table)', desc: 'Dịch chuỗi theo bảng chuyển đổi', ex: `table = str.maketrans("ab", "12")\nprint("abc".translate(table)) # 12c` },
                    { cmd: 's.upper()', desc: 'Chuyển chuỗi sang chữ hoa', ex: `print("abc".upper()) # ABC` },
                    { cmd: 's.zfill(width)', desc: 'Thêm số 0 vào đầu chuỗi', ex: `print("5".zfill(3)) # 005` }
                ]
            },
            {
                id: 'class', title: 'OOP Class', icon: 'fa-shapes', color: 'purple',
                desc: 'Lập trình hướng đối tượng (Object Oriented Programming).',
                items: [
                    { cmd: 'class Name:', desc: 'Khai báo lớp.', ex: `# 1. Định nghĩa lớp Person\nclass Person:\n    pass\n\n# 2. Tạo đối tượng\np = Person()\nprint(p)` },
                    { cmd: 'def __init__(self, ...)', desc: 'Constructor (khởi tạo instance).', ex: `class Student:\n    # Hàm khởi tạo chạy khi tạo đối tượng mới\n    def __init__(self, name, age):\n        self.name = name\n        self.age = age\n\ns = Student("Nam", 20)\nprint(f"SV: {s.name}, {s.age} tuổi")` },
                    { cmd: 'self.attribute', desc: 'Thuộc tính của instance; truy xuất bằng dấu chấm.', ex: `class Cat:\n    def __init__(self, color):\n        self.color = color # self.color là thuộc tính instance\n\nc = Cat("Black")\nprint(c.color) # Black` },
                    { cmd: 'ClassName.class_attr', desc: 'Thuộc tính lớp (shared giữa các instance).', ex: `class Dog:\n    species = "Canine" # Thuộc tính chung\n\nd1 = Dog()\nd2 = Dog()\n\nprint(d1.species) # Canine\nprint(d2.species) # Canine` },
                    { cmd: 'instance.method()', desc: 'Gọi phương thức của instance.', ex: `class Bird:\n    def sing(self):\n        print("Chirp chirp!")\n\nb = Bird()\nb.sing() # Gọi phương thức` },
                    { cmd: '@property', desc: 'Định nghĩa getter kiểu Pythonic.', ex: `class Circle:\n    def __init__(self, r):\n        self._r = r\n\n    @property\n    def area(self):\n        return 3.14 * self._r ** 2\n\nc = Circle(5)\nprint(c.area) # Gọi như thuộc tính, không cần ()` },
                    { cmd: '@<name>.setter', desc: 'Định nghĩa setter kiểu Pythonic.', ex: `class User:\n    def __init__(self):\n        self._age = 0\n\n    @property\n    def age(self):\n        return self._age\n\n    @age.setter\n    def age(self, value):\n        if value < 0:\n            print("Tuổi không âm!")\n        else:\n            self._age = value\n\nu = User()\nu.age = 20 # Gọi setter\nprint(u.age)` },
                    { cmd: 'getattr(obj, "name", default)', desc: 'Lấy giá trị thuộc tính động.', ex: `class Box:\n    width = 10\n\nb = Box()\n# Lấy thuộc tính 'width' bằng chuỗi\nprint(getattr(b, 'width')) # 10` },
                    { cmd: 'setattr(obj, "name", value)', desc: 'Gán giá trị thuộc tính động.', ex: `class Box: pass\nb = Box()\n\n# Gán thuộc tính 'height' bằng 20\nsetattr(b, 'height', 20)\nprint(b.height) # 20` },
                    { cmd: 'delattr(obj, "name")', desc: 'Xóa thuộc tính động.', ex: `class A:\n    x = 1\n\na = A()\ndelattr(A, 'x')\n# print(a.x) -> Error vì x đã bị xóa` },
                    { cmd: '__getattr__', desc: 'Override truy xuất thuộc tính (chỉ khi không tìm thấy).', ex: `class Dynamic:\n    def __getattr__(self, name):\n        return f"Thuộc tính '{name}' không tồn tại!"\n\nd = Dynamic()\nprint(d.abc) \n# Output: Thuộc tính 'abc' không tồn tại!` },
                    { cmd: '__setattr__', desc: 'Override gán thuộc tính.', ex: `class Secure:\n    def __setattr__(self, name, value):\n        print(f"Đang gán {value} cho {name}")\n        self.__dict__[name] = value\n\ns = Secure()\ns.pwd = "123"` },
                    { cmd: 'def __str__(self)', desc: 'Chuỗi biểu diễn (human readable).', ex: `class Book:\n    def __init__(self, title):\n        self.title = title\n    def __str__(self):\n        return f"Sách: {self.title}"\n\nb = Book("Python")\nprint(b) # Output: Sách: Python` },
                    { cmd: 'def __repr__(self)', desc: 'Chuỗi biểu diễn (developer / debugging).', ex: `class Point:\n    def __init__(self, x, y):\n        self.x, self.y = x, y\n    def __repr__(self):\n        return f"Point({self.x}, {self.y})"\n\np = Point(1, 2)\nprint(p) # Output: Point(1, 2)` },
                    { cmd: 'Magic methods (Ops)', desc: 'Ví dụ: __add__, __sub__, __mul__, __neg__, __eq__, __lt__ — dùng để overload toán tử.', ex: `class Vector:\n    def __init__(self, x, y):\n        self.x, self.y = x, y\n    def __add__(self, other):\n        return Vector(self.x + other.x, self.y + other.y)\n\nv1 = Vector(1, 2)\nv2 = Vector(3, 4)\nv3 = v1 + v2\nprint(f"Vector tổng: {v3.x}, {v3.y}") # 4, 6` },
                    { cmd: 'Mutable / Immutable', desc: '(ví dụ tuple immutable, list mutable) — thiết kế API phù hợp.', ex: `# List thay đổi được\nl = [1, 2]\nl[0] = 9\nprint(l) # [9, 2]\n\n# Tuple không thay đổi được\nt = (1, 2)\n# t[0] = 9 -> Error` },
                    { cmd: 'class Sub(Base):', desc: 'Kế thừa lớp cha.', ex: `class Animal:\n    def speak(self): print("...")\n\nclass Dog(Animal):\n    def speak(self): print("Gâu")\n\nd = Dog()\nd.speak() # Output: Gâu` },
                    { cmd: 'super().__init__(...)', desc: 'Gọi constructor lớp cha.', ex: `class Parent:\n    def __init__(self):\n        print("Cha khởi tạo")\n\nclass Child(Parent):\n    def __init__(self):\n        super().__init__() # Gọi init cha\n        print("Con khởi tạo")\n\nc = Child()` },
                    { cmd: '__dict__, __name__...', desc: 'Các thuộc tính đặc biệt của lớp.', ex: `class A: pass\nprint(A.__name__) # 'A'\nprint(A.__dict__) # Các thuộc tính nội bộ` }
                ]
            },
            {
                id: 'numpy', title: 'Numpy', icon: 'fa-cube', color: 'green',
                desc: 'Thư viện tính toán khoa học, xử lý mảng đa chiều.',
                items: [
                    { cmd: 'import numpy as np', desc: 'Khai báo numpy.', ex: `# Quy ước đặt tên là np\nimport numpy as np\nprint(np.__version__)` },
                    { cmd: 'np.array([…], dtype=...)', desc: 'Tạo ndarray (1D/2D/3D).', ex: `import numpy as np\n# Mảng 1 chiều\narr = np.array([1, 2, 3], dtype='float32')\nprint(arr)\n# Output: [1. 2. 3.]` },
                    { cmd: 'np.zeros(shape)', desc: 'Tạo mảng toàn 0.', ex: `import numpy as np\n# Ma trận 2x3 toàn số 0\nz = np.zeros((2, 3))\nprint(z)\n# Output:\n# [[0. 0. 0.]\n#  [0. 0. 0.]]` },
                    { cmd: 'np.ones(shape)', desc: 'Tạo mảng toàn 1.', ex: `import numpy as np\n# Mảng 1 chiều 3 phần tử 1\no = np.ones(3)\nprint(o) # [1. 1. 1.]` },
                    { cmd: 'np.arange(start, stop, step)', desc: 'Tạo dãy số (tương tự range).', ex: `import numpy as np\n# Từ 0 đến 9, bước nhảy 2\na = np.arange(0, 10, 2)\nprint(a) # [0 2 4 6 8]` },
                    { cmd: 'np.full(shape, fill_value)', desc: 'Tạo mảng với giá trị cố định.', ex: `import numpy as np\n# Ma trận 2x2 toàn số 7\nf = np.full((2, 2), 7)\nprint(f)` },
                    { cmd: 'np.eye(n)', desc: 'Ma trận đơn vị (có thể chỉnh đường chéo k).', ex: `import numpy as np\n# Ma trận đơn vị 3x3\ne = np.eye(3)\nprint(e)\n# [[1. 0. 0.]\n#  [0. 1. 0.]\n#  [0. 0. 1.]]` },
                    { cmd: 'np.identity(n)', desc: 'Ma trận đơn vị vuông.', ex: `import numpy as np\ni = np.identity(2)\nprint(i)` },
                    { cmd: 'np.diag(arr)', desc: 'Tạo ma trận đường chéo hoặc lấy đường chéo.', ex: `import numpy as np\n# Tạo ma trận đường chéo\nd = np.diag([1, 2, 3])\nprint(d)` },
                    { cmd: 'np.reshape(arr, newshape)', desc: 'Thay đổi kích thước / shape.', ex: `import numpy as np\na = np.arange(6) # [0 1 2 3 4 5]\n# Đổi thành 2 hàng 3 cột\nb = np.reshape(a, (2, 3))\nprint(b)` },
                    { cmd: 'arr.reshape(newshape)', desc: 'Thay đổi kích thước (method).', ex: `import numpy as np\na = np.array([1, 2, 3, 4])\nb = a.reshape(2, 2)\nprint(b)` },
                    { cmd: 'np.transpose(arr, axes=...)', desc: 'Chuyển vị mảng.', ex: `import numpy as np\na = np.array([[1, 2], [3, 4]])\n# Chuyển hàng thành cột\nt = np.transpose(a)\nprint(t)` },
                    { cmd: 'arr.T', desc: 'Chuyển vị nhanh.', ex: `import numpy as np\na = np.array([[1, 2]])\nprint(a.T)\n# [[1]\n#  [2]]` },
                    { cmd: 'np.concatenate((a,b), axis=...)', desc: 'Ghép mảng dọc theo trục.', ex: `import numpy as np\na = np.array([1, 2])\nb = np.array([3, 4])\n# Nối tiếp\nc = np.concatenate((a, b))\nprint(c) # [1 2 3 4]` },
                    { cmd: 'np.stack(...)', desc: 'Ghép mảng tạo trục mới.', ex: `import numpy as np\na = np.array([1, 2])\nb = np.array([3, 4])\n# Chồng lên nhau\ns = np.stack((a, b))\nprint(s)\n# [[1 2]\n#  [3 4]]` },
                    { cmd: 'np.split(arr, indices, axis=...)', desc: 'Tách mảng.', ex: `import numpy as np\na = np.arange(6)\n# Tách thành 3 phần\ns = np.split(a, 3)\nprint(s)\n# [array([0, 1]), array([2, 3]), array([4, 5])]` },
                    { cmd: 'np.expand_dims(arr, axis=...)', desc: 'Mở rộng chiều.', ex: `import numpy as np\na = np.array([1, 2]) # Shape (2,)\n# Thêm chiều ở axis 0\nb = np.expand_dims(a, axis=0)\nprint(b.shape) # (1, 2)` },
                    { cmd: 'np.save("file.npy", arr)', desc: 'Lưu file .npy.', ex: `import numpy as np\na = np.array([1, 2, 3])\nnp.save('my_data.npy', a)\nprint("Đã lưu my_data.npy")` },
                    { cmd: 'np.load("file.npy")', desc: 'Đọc file .npy.', ex: `import numpy as np\n# Giả sử đã có file my_data.npy\n# data = np.load('my_data.npy')\n# print(data)` },
                    { cmd: 'np.savetxt("f.txt", arr)', desc: 'Lưu file text.', ex: `import numpy as np\na = np.array([1, 2])\nnp.savetxt('data.txt', a)\nprint("Lưu file text thành công")` },
                    { cmd: 'np.loadtxt("f.txt")', desc: 'Đọc file text.', ex: `import numpy as np\n# data = np.loadtxt('data.txt')` },
                    { cmd: 'np.random.seed(seed)', desc: 'Đặt seed ngẫu nhiên.', ex: `import numpy as np\n# Cố định random để kết quả giống nhau mỗi lần chạy\nnp.random.seed(42)\nprint(np.random.rand())` },
                    { cmd: 'np.random.randn(...)', desc: 'Sinh số ngẫu nhiên chuẩn tắc.', ex: `import numpy as np\n# 2x2 ma trận phân phối chuẩn (mean=0, std=1)\nr = np.random.randn(2, 2)\nprint(r)` },
                    { cmd: 'np.random.randint(...)', desc: 'Sinh số nguyên ngẫu nhiên.', ex: `import numpy as np\n# 5 số ngẫu nhiên từ 0 đến 10\nri = np.random.randint(0, 10, 5)\nprint(ri)` },
                    { cmd: 'np.dot(a, b)', desc: 'Nhân ma trận / vector.', ex: `import numpy as np\na = np.array([[1, 2], [3, 4]])\nb = np.array([[1, 1], [0, 1]])\n# Tích vô hướng\nprint(np.dot(a, b))` },
                    { cmd: 'a @ b', desc: 'Toán tử nhân ma trận.', ex: `import numpy as np\na = np.array([1, 2])\nb = np.array([3, 4])\n# Tích vô hướng vector: 1*3 + 2*4 = 11\nprint(a @ b)` },
                    { cmd: 'np.linalg.pinv(a)', desc: 'Ma trận nghịch đảo (pseudo-inverse).', ex: `import numpy as np\na = np.array([[1, 2], [3, 4]])\ninv = np.linalg.pinv(a)\nprint(inv)` },
                    { cmd: 'np.linalg.det(a)', desc: 'Định thức ma trận.', ex: `import numpy as np\na = np.array([[1, 2], [3, 4]])\n# det = 1*4 - 2*3 = -2\nprint(np.linalg.det(a))` },
                    { cmd: 'np.linalg.norm(a)', desc: 'Chuẩn (norm) vector/ma trận.', ex: `import numpy as np\nv = np.array([3, 4])\n# Độ dài vector: sqrt(3^2 + 4^2) = 5\nprint(np.linalg.norm(v))` },
                    { cmd: 'np.min(a, axis=...)', desc: 'Giá trị nhỏ nhất.', ex: `import numpy as np\na = np.array([1, 5, 2])\nprint(np.min(a)) # 1` },
                    { cmd: 'np.max(a)', desc: 'Giá trị lớn nhất.', ex: `import numpy as np\na = np.array([1, 5, 2])\nprint(np.max(a)) # 5` },
                    { cmd: 'np.mean(a)', desc: 'Giá trị trung bình.', ex: `import numpy as np\na = np.array([1, 2, 3])\nprint(np.mean(a)) # 2.0` },
                    { cmd: 'np.sum(a)', desc: 'Tổng các phần tử.', ex: `import numpy as np\na = np.array([1, 1, 1])\nprint(np.sum(a)) # 3` },
                    { cmd: 'np.argmin(a)', desc: 'Chỉ số của giá trị nhỏ nhất.', ex: `import numpy as np\na = np.array([10, 1, 5])\nprint(np.argmin(a)) # Index 1 (giá trị 1)` },
                    { cmd: 'np.argmax(a)', desc: 'Chỉ số của giá trị lớn nhất.', ex: `import numpy as np\na = np.array([10, 1, 5])\nprint(np.argmax(a)) # Index 0 (giá trị 10)` },
                    { cmd: 'np.exp(arr)', desc: 'Hàm số mũ e^x.', ex: `import numpy as np\n# e^1 = 2.718...\nprint(np.exp([1]))` },
                    { cmd: 'np.minimum(a, b)', desc: 'Min giữa 2 mảng (element-wise).', ex: `import numpy as np\na = [1, 5]\nb = [2, 3]\n# So sánh từng cặp (1,2) -> 1, (5,3) -> 3\nprint(np.minimum(a, b)) # [1 3]` },
                    { cmd: 'np.maximum(a, b)', desc: 'Max giữa 2 mảng (element-wise).', ex: `import numpy as np\nprint(np.maximum([1, 5], [2, 3])) # [2 5]` },
                    { cmd: 'np.linspace(start, stop, num)', desc: 'Tạo dãy số chia đều (quan trọng cho đồ thị)', ex: `import numpy as np\n# 5 điểm đều nhau từ 0 đến 10\nprint(np.linspace(0, 10, 5))` },
                    { cmd: 'np.vstack/hstack', desc: 'Ghép mảng (dọc/ngang)', ex: `import numpy as np\na = [1]; b = [2]\nprint(np.vstack((a, b))) # [[1], [2]]\nprint(np.hstack((a, b))) # [1 2]` },
                    { cmd: 'arr.flatten()', desc: 'Làm phẳng mảng nhiều chiều thành 1 chiều', ex: `import numpy as np\na = np.array([[1, 2], [3, 4]])\nprint(a.flatten()) # [1 2 3 4]` },
                    { cmd: 'arr.astype(dtype)', desc: 'Chuyển đổi kiểu dữ liệu', ex: `import numpy as np\na = np.array([1.9, 2.5])\nprint(a.astype(int)) # [1 2]` }
                ]
            },
            {
                id: 'pandas', title: 'Pandas', icon: 'fa-table', color: 'blue',
                desc: 'Thư viện phân tích và xử lý dữ liệu bảng (DataFrame).',
                items: [
                    { cmd: 'import pandas as pd', desc: 'Khai báo thư viện pandas', ex: `import pandas as pd\nprint("Pandas version:", pd.__version__)` },
                    { cmd: 'pd.Series(data)', desc: 'Tạo Series (1 chiều)', ex: `import pandas as pd\n# Tạo Series từ list\ns = pd.Series([10, 20, 30], index=['a', 'b', 'c'])\nprint(s)\n# a    10\n# b    20...` },
                    { cmd: 'pd.DataFrame(data)', desc: 'Tạo DataFrame (2 chiều)', ex: `import pandas as pd\n# Tạo bảng dữ liệu\ndata = {'Name': ['An', 'Bình'], 'Age': [20, 21]}\ndf = pd.DataFrame(data)\nprint(df)` },
                    { cmd: 'pd.read_csv()', desc: 'Đọc CSV vào DataFrame', ex: `import pandas as pd\n# Đọc file data.csv\n# df = pd.read_csv('data.csv')\n# print(df.head())` },
                    { cmd: 'df.head(n)/tail(n)', desc: 'Xem n dòng đầu / cuối', ex: `import pandas as pd\ndf = pd.DataFrame({'A': range(10)})\n# Xem 3 dòng đầu\nprint(df.head(3))` },
                    { cmd: 'df.info()', desc: 'Thông tin DataFrame (dtype, null)', ex: `import pandas as pd\ndf = pd.DataFrame({'A': [1, None], 'B': [3, 4]})\n# Xem cấu trúc và dữ liệu null\ndf.info()` },
                    { cmd: 'df.dtypes', desc: 'Kiểm tra kiểu các cột', ex: `import pandas as pd\ndf = pd.DataFrame({'A': [1], 'B': [2.5]})\nprint(df.dtypes)\n# A      int64\n# B    float64` },
                    { cmd: 'df.describe()', desc: 'Thống kê mô tả (mean, std...)', ex: `import pandas as pd\ndf = pd.DataFrame({'A': [1, 2, 3, 4, 5]})\n# Tính count, mean, std, min, max...\nprint(df.describe())` },
                    { cmd: 'df.to_csv/excel', desc: 'Lưu DataFrame ra file', ex: `import pandas as pd\ndf = pd.DataFrame({'A': [1, 2]})\n# Lưu ra CSV, không lưu index\ndf.to_csv('out.csv', index=False)` },
                    { cmd: 'df[[col1, col2]]', desc: 'Truy xuất cột theo tên', ex: `import pandas as pd\ndf = pd.DataFrame({'Name': ['A', 'B'], 'Age': [10, 20]})\n# Lấy cột Name\nnames = df[['Name']]\nprint(names)` },
                    { cmd: 'df.iloc[]', desc: 'Truy xuất theo vị trí (index)', ex: `import pandas as pd\ndf = pd.DataFrame({'A': [10, 20], 'B': [30, 40]})\n# Lấy dòng 0, cột 1\nval = df.iloc[0, 1]\nprint(val) # 30` },
                    { cmd: 'df.loc[]', desc: 'Truy xuất theo label', ex: `import pandas as pd\ndf = pd.DataFrame({'A': [10]}, index=['row1'])\n# Lấy dòng 'row1' cột 'A'\nprint(df.loc['row1', 'A']) # 10` },
                    { cmd: 'df[condition]', desc: 'Lọc theo điều kiện boolean', ex: `import pandas as pd\ndf = pd.DataFrame({'Age': [15, 20, 25]})\n# Lọc người trên 18 tuổi\nadults = df[df['Age'] > 18]\nprint(adults)` },
                    { cmd: 'df.filter()', desc: 'Lọc cột / hàng', ex: `import pandas as pd\ndf = pd.DataFrame({'ABC': [1], 'DEF': [2]})\n# Lấy cột có chữ 'A'\nres = df.filter(like='A', axis=1)\nprint(res)` },
                    { cmd: 'df.sort_values()', desc: 'Sắp xếp DataFrame', ex: `import pandas as pd\ndf = pd.DataFrame({'A': [3, 1, 2]})\n# Sắp xếp tăng dần\nprint(df.sort_values(by='A'))` },
                    { cmd: 'df.select_dtypes()', desc: 'Chọn cột theo kiểu dữ liệu', ex: `import pandas as pd\ndf = pd.DataFrame({'A': [1], 'B': ['x']})\n# Chỉ lấy cột số\nnums = df.select_dtypes(include='number')\nprint(nums)` },
                    { cmd: 'df.groupby()', desc: 'Group by và tổng hợp', ex: `import pandas as pd\ndf = pd.DataFrame({'Class': ['A', 'A', 'B'], 'Score': [1, 2, 3]})\n# Tính trung bình điểm theo lớp\nprint(df.groupby('Class').mean())` },
                    { cmd: 'pd.merge()', desc: 'Nối (join) hai DataFrame', ex: `import pandas as pd\ndf1 = pd.DataFrame({'id': [1], 'val': ['x']})\ndf2 = pd.DataFrame({'id': [1], 'val': ['y']})\n# Inner join theo id\nm = pd.merge(df1, df2, on='id')\nprint(m)` },
                    { cmd: 'pd.concat()', desc: 'Nối theo hàng hoặc cột', ex: `import pandas as pd\ndf1 = pd.DataFrame({'A': [1]})\ndf2 = pd.DataFrame({'A': [2]})\n# Nối dọc (thêm dòng)\nc = pd.concat([df1, df2])\nprint(c)` },
                    { cmd: 'df.apply(func)', desc: 'Áp dụng hàm cho cột/row', ex: `import pandas as pd\ndf = pd.DataFrame({'A': [1, 2]})\n# Bình phương các số\ndf['B'] = df['A'].apply(lambda x: x**2)\nprint(df)` },
                    { cmd: 'df.map()', desc: 'Map thay thế giá trị', ex: `import pandas as pd\ndf = pd.DataFrame({'Gender': ['M', 'F']})\n# M -> 0, F -> 1\ndf['G_Code'] = df['Gender'].map({'M': 0, 'F': 1})\nprint(df)` },
                    { cmd: 'df.melt()', desc: 'Chuyển wide → long', ex: `import pandas as pd\ndf = pd.DataFrame({'A': [1], 'B': [2]})\n# Chuyển cột thành hàng\nm = df.melt()\nprint(m)` },
                    { cmd: 'df.plot()', desc: 'Vẽ biểu đồ từ DataFrame', ex: `import pandas as pd\ndf = pd.DataFrame({'A': [1, 2, 3]})\n# Vẽ biểu đồ đường (cần matplotlib)\ndf.plot()\n# plt.show()` },
                    { cmd: 'df.plot.bar/pie', desc: 'Cụ thể các kiểu plot', ex: `import pandas as pd\ndf = pd.DataFrame({'A': [10, 20]}, index=['X', 'Y'])\n# Vẽ biểu đồ cột\ndf.plot.bar()\n# plt.show()` },
                    { cmd: 'df.dropna()', desc: 'Xóa các dòng chứa giá trị NULL/NaN', ex: `import pandas as pd\ndf = pd.DataFrame({'A': [1, None, 3]})\nprint(df.dropna())` },
                    { cmd: 'df.fillna(value)', desc: 'Điền giá trị vào ô trống (NULL)', ex: `import pandas as pd\ndf = pd.DataFrame({'A': [1, None]})\nprint(df.fillna(0)) # Điền 0 vào chỗ trống` },
                    { cmd: 'df.value_counts()', desc: 'Đếm tần suất xuất hiện của giá trị', ex: `import pandas as pd\ndf = pd.DataFrame({'A': ['yes', 'no', 'yes']})\nprint(df['A'].value_counts())` },
                    { cmd: 'df.drop_duplicates()', desc: 'Xóa các dòng trùng lặp', ex: `import pandas as pd\ndf = pd.DataFrame({'A': [1, 1, 2]})\nprint(df.drop_duplicates())` },
                    { cmd: 'df.pivot_table', desc: 'Tạo bảng tổng hợp (Pivot Table)', ex: `import pandas as pd\ndf = pd.DataFrame({'A': ['foo', 'foo'], 'B': [1, 2]})\nprint(pd.pivot_table(df, values='B', index='A', aggfunc='sum'))` },
                    { cmd: 'df.astype(dtype)', desc: 'Chuyển đổi kiểu dữ liệu của cột', ex: `import pandas as pd\ndf = pd.DataFrame({'A': ['1', '2']})\n# Chuyển từ string sang int\ndf['A'] = df['A'].astype(int)\nprint(df.dtypes)` },
                    { cmd: 'df.rename', desc: 'Đổi tên cột hoặc hàng', ex: `import pandas as pd\ndf = pd.DataFrame({'A': [1]})\nprint(df.rename(columns={'A': 'New_Name'}))` }
                ]
            },
            {
                id: 'matplotlib_ref', title: 'Matplotlib (Docs)', icon: 'fa-chart-line', color: 'red',
                desc: 'Tổng hợp các lệnh vẽ biểu đồ (Reference).',
                items: [
                    { cmd: 'import matplotlib.pyplot', desc: 'Khai báo thư viện (plt)', ex: `import matplotlib.pyplot as plt\n# Alias phổ biến là plt` },
                    { cmd: 'plt.figure()', desc: 'Tạo Figure (cửa sổ vẽ)', ex: `import matplotlib.pyplot as plt\n# Tạo vùng vẽ kích thước 10x5 inch\nplt.figure(figsize=(10, 5))\n# ... vẽ gì đó` },
                    { cmd: 'plt.show()', desc: 'Hiển thị figure hiện tại', ex: `import matplotlib.pyplot as plt\nplt.plot([1, 2])\n# Lệnh này sẽ mở cửa sổ hiển thị biểu đồ\nplt.show()` },
                    { cmd: 'plt.savefig()', desc: 'Lưu figure ra file', ex: `import matplotlib.pyplot as plt\nplt.plot([1, 2])\n# Lưu ảnh chất lượng cao 300dpi\nplt.savefig('my_chart.png', dpi=300)` },
                    { cmd: 'fig.add_axes()', desc: 'Thêm axes (OOP)', ex: `import matplotlib.pyplot as plt\nfig = plt.figure()\n# Thêm trục tọa độ: left, bottom, width, height\nax = fig.add_axes([0.1, 0.1, 0.8, 0.8])\nax.plot([1, 2])\nplt.show()` },
                    { cmd: 'ax.plot(x, y)', desc: 'Vẽ đường (line plot)', ex: `import matplotlib.pyplot as plt\nfig, ax = plt.subplots()\n# Vẽ đường qua các điểm (1,1) và (2,4)\nax.plot([1, 2], [1, 4], color='red')\nplt.show()` },
                    { cmd: 'ax.bar(x, h)', desc: 'Vẽ biểu đồ cột (bar plot)', ex: `import matplotlib.pyplot as plt\nfig, ax = plt.subplots()\n# Cột A cao 10, cột B cao 20\nax.bar(['A', 'B'], [10, 20])\nplt.show()` },
                    { cmd: 'ax.barh(y, w)', desc: 'Vẽ bar ngang', ex: `import matplotlib.pyplot as plt\nfig, ax = plt.subplots()\n# Cột ngang\nax.barh(['A', 'B'], [10, 20])\nplt.show()` },
                    { cmd: 'ax.pie()', desc: 'Vẽ biểu đồ tròn', ex: `import matplotlib.pyplot as plt\nfig, ax = plt.subplots()\n# Biểu đồ tròn tỉ lệ 30-70\nax.pie([30, 70], labels=['Nam', 'Nữ'])\nplt.show()` },
                    { cmd: 'ax.hist()', desc: 'Vẽ histogram', ex: `import matplotlib.pyplot as plt\nimport numpy as np\ndata = np.random.randn(1000)\n# Vẽ phân phối tần suất\nplt.hist(data, bins=30)\nplt.show()` },
                    { cmd: 'ax.scatter()', desc: 'Vẽ scatter (phân tán)', ex: `import matplotlib.pyplot as plt\nx = [1, 2, 3]\ny = [2, 4, 1]\n# Vẽ các điểm rời rạc\nplt.scatter(x, y)\nplt.show()` },
                    { cmd: 'ax.boxplot()', desc: 'Vẽ boxplot', ex: `import matplotlib.pyplot as plt\ndata = [1, 2, 5, 7, 9]\n# Biểu đồ hộp\nplt.boxplot(data)\nplt.show()` },
                    { cmd: 'ax.contour/f', desc: 'Vẽ contour / filled', ex: `import matplotlib.pyplot as plt\n# Vẽ đường đồng mức (contour)\n# plt.contour(X, Y, Z)\n# plt.show()` },
                    { cmd: 'ax.plot_surface', desc: 'Vẽ surface 3D', ex: `import matplotlib.pyplot as plt\n# Yêu cầu projection='3d'\n# ax.plot_surface(X, Y, Z)` },
                    { cmd: 'plt.subplot()', desc: 'Tạo subplot', ex: `import matplotlib.pyplot as plt\n# Chia lưới 2 hàng, 1 cột, vẽ ở vị trí 1\nplt.subplot(2, 1, 1)\nplt.plot([1, 2])\n# Vẽ ở vị trí 2\nplt.subplot(2, 1, 2)\nplt.plot([3, 4])\nplt.show()` },
                    { cmd: 'ax.set_title/label', desc: 'Đặt tiêu đề / nhãn trục', ex: `import matplotlib.pyplot as plt\nfig, ax = plt.subplots()\nax.plot([1, 2])\n# Gắn nhãn\nax.set_title("Biểu đồ tăng trưởng")\nax.set_xlabel("Năm")\nax.set_ylabel("Doanh thu")\nplt.show()` },
                    { cmd: 'ax.legend()', desc: 'Thêm chú giải', ex: `import matplotlib.pyplot as plt\nplt.plot([1, 2], label="Dữ liệu A")\n# Hiển thị chú giải\nplt.legend()\nplt.show()` },
                    { cmd: 'ax.text/annotate', desc: 'Thêm văn bản / chú thích', ex: `import matplotlib.pyplot as plt\nplt.plot([1, 10])\n# Viết chữ tại toạ độ (2, 5)\nplt.text(2, 5, "Điểm quan trọng")\nplt.show()` },
                    { cmd: 'ax.axis/grid', desc: 'Căn tỉ lệ / bật lưới', ex: `import matplotlib.pyplot as plt\nplt.plot([1, 2])\n# Bật lưới kẻ\nplt.grid(True)\nplt.show()` },
                    { cmd: 'plt.tight_layout()', desc: 'Tự điều chỉnh layout', ex: `import matplotlib.pyplot as plt\nplt.plot([1, 2])\n# Tự động căn chỉnh lề cho đẹp\nplt.tight_layout()\nplt.show()` }
                ]
            },
            {
                id: 'matplotlib_proj', title: 'Matplotlib (Projects)', icon: 'fa-palette', color: 'rose',
                desc: 'Các dự án thực hành vẽ biểu đồ (Project Mode).',
                isGallery: true,
                items: [
                    {
                        cmd: 'Line Plot (Project)',
                        title: 'Biểu đồ Đường (Line Plot)',
                        desc: 'Dự án: Vẽ biểu đồ thể hiện xu hướng doanh thu trong 6 tháng đầu năm, bao gồm chú thích, lưới và đánh dấu điểm đặc biệt.',
                        svg: `<svg viewBox="0 0 200 120" class="w-full h-full"><path d="M20,100 L50,80 L80,90 L110,40 L140,60 L170,20" fill="none" stroke="#e11d48" stroke-width="3"/><circle cx="20" cy="100" r="3" fill="#e11d48"/><circle cx="50" cy="80" r="3" fill="#e11d48"/><circle cx="80" cy="90" r="3" fill="#e11d48"/><circle cx="110" cy="40" r="3" fill="#e11d48"/><circle cx="140" cy="60" r="3" fill="#e11d48"/><circle cx="170" cy="20" r="3" fill="#e11d48"/><line x1="20" y1="110" x2="180" y2="110" stroke="#cbd5e1"/><line x1="20" y1="10" x2="20" y2="110" stroke="#cbd5e1"/></svg>`,
                        ex: `import matplotlib.pyplot as plt\n\n# 1. Dữ liệu mẫu\nmonths = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun']\nrevenue = [100, 120, 110, 160, 140, 190]\n\n# 2. Tạo khung vẽ\nplt.figure(figsize=(10, 6))\n\n# 3. Vẽ đường\n# marker='o': đánh dấu điểm tròn\n# linestyle='--': đường nét đứt\nplt.plot(months, revenue, color='red', marker='o', linestyle='--', linewidth=2, label='Doanh thu')\n\n# 4. Trang trí\nplt.title("Báo cáo Doanh Thu", fontsize=16)\nplt.xlabel("Tháng")\nplt.ylabel("Triệu VND")\nplt.grid(True) # Hiện lưới\nplt.legend()   # Hiện chú giải\n\n# 5. Hiển thị\nplt.show()`,
                        helpers: [
                            { name: 'plt.figure', syntax: 'plt.figure(figsize=(w, h))', desc: 'Tạo khung vẽ.' },
                            { name: 'plt.plot', syntax: 'plt.plot(x, y, ...)', desc: 'Vẽ đường.' }
                        ]
                    },
                    {
                        cmd: 'Bar Chart (Project)',
                        title: 'Biểu đồ Cột (Bar Chart)',
                        desc: 'Dự án: So sánh số lượng sản phẩm bán ra giữa các danh mục.',
                        svg: `<svg viewBox="0 0 200 120"><rect x="30" y="40" width="20" height="70" fill="#3b82f6"/><rect x="70" y="20" width="20" height="90" fill="#3b82f6"/><rect x="110" y="60" width="20" height="50" fill="#3b82f6"/><rect x="150" y="30" width="20" height="80" fill="#3b82f6"/><line x1="20" y1="110" x2="180" y2="110" stroke="#cbd5e1"/></svg>`,
                        ex: `import matplotlib.pyplot as plt\n\n# 1. Dữ liệu\ncats = ['Điện tử', 'Gia dụng', 'Thời trang']\nvals = [120, 85, 200]\n\n# 2. Vẽ biểu đồ cột\nplt.figure(figsize=(8, 5))\nplt.bar(cats, vals, color=['blue', 'green', 'orange'])\n\n# 3. Trang trí\nplt.title("Số lượng bán ra theo danh mục")\nplt.ylabel("Số lượng")\n\n# 4. Hiển thị\nplt.show()`,
                        helpers: [{ name: 'plt.bar', syntax: 'plt.bar(x, h)', desc: 'Vẽ cột.' }]
                    },
                    {
                        cmd: 'Pie Chart (Project)',
                        title: 'Biểu đồ Tròn (Pie Chart)',
                        desc: 'Dự án: Thể hiện thị phần (Market Share) có Explode.',
                        svg: `<svg viewBox="0 0 120 120"><path d="M60,60 L60,10 A50,50 0 1,1 15.2,46.4 Z" fill="#3b82f6" /><g transform="translate(5, -5)"><path d="M60,60 L15.2,46.4 A50,50 0 0,1 60,10 Z" fill="#f59e0b" /></g></svg>`,
                        ex: `import matplotlib.pyplot as plt\n\n# 1. Dữ liệu\nlabels = ['Samsung', 'Apple', 'Xiaomi', 'Oppo']\nsizes = [30, 40, 20, 10]\nexplode = (0, 0.1, 0, 0) # Tách miếng thứ 2 (Apple) ra\n\n# 2. Vẽ biểu đồ tròn\nplt.figure(figsize=(7, 7))\nplt.pie(sizes, explode=explode, labels=labels, autopct='%1.1f%%', shadow=True, startangle=90)\n\n# 3. Đảm bảo hình tròn không bị méo\nplt.axis('equal')\nplt.title("Thị phần Smartphone")\nplt.show()`,
                        helpers: [{ name: 'plt.pie', syntax: 'plt.pie(x)', desc: 'Vẽ tròn.' }]
                    },
                    {
                        cmd: 'Scatter Plot (Project)',
                        title: 'Biểu đồ Phân Tán',
                        desc: 'Dự án: Phân tích tương quan Height - Weight.',
                        svg: `<svg viewBox="0 0 200 120"><circle cx="40" cy="90" r="3" fill="purple"/><circle cx="60" cy="50" r="3" fill="purple"/><circle cx="100" cy="70" r="3" fill="purple"/><circle cx="120" cy="30" r="3" fill="purple"/><circle cx="160" cy="80" r="3" fill="purple"/><line x1="20" y1="110" x2="180" y2="110" stroke="#cbd5e1"/></svg>`,
                        ex: `import matplotlib.pyplot as plt\nimport numpy as np\n\n# 1. Tạo dữ liệu giả lập\nheight = np.random.normal(170, 10, 50) # Chiều cao TB 170\nweight = np.random.normal(65, 5, 50)   # Cân nặng TB 65\n\n# 2. Vẽ scatter plot\nplt.figure(figsize=(8, 6))\nplt.scatter(height, weight, color='purple', alpha=0.7)\n\n# 3. Trang trí\nplt.title("Tương quan Chiều cao - Cân nặng")\nplt.xlabel("Chiều cao (cm)")\nplt.ylabel("Cân nặng (kg)")\nplt.grid(True)\nplt.show()`,
                        helpers: [{ name: 'plt.scatter', syntax: 'plt.scatter(x, y)', desc: 'Vẽ điểm.' }]
                    },
                    {
                        cmd: '3D Surface (Project)',
                        title: 'Biểu đồ 3D Surface',
                        desc: 'Dự án: Vẽ bề mặt không gian 3 chiều phức tạp.',
                        svg: `<svg viewBox="0 0 200 120"><path d="M40,80 Q100,30 160,80 L160,100 Q100,50 40,100 Z" fill="#3b82f6" opacity="0.4" stroke="#1d4ed8"/><path d="M40,80 Q100,30 160,80" fill="none" stroke="#1d4ed8" stroke-width="2"/></svg>`,
                        ex: `import matplotlib.pyplot as plt\nimport numpy as np\n\n# 1. Tạo dữ liệu không gian\nx = np.linspace(-5, 5, 50)\ny = np.linspace(-5, 5, 50)\nX, Y = np.meshgrid(x, y)\nZ = np.sin(np.sqrt(X**2 + Y**2))\n\n# 2. Khởi tạo Figure 3D\nfig = plt.figure(figsize=(10, 7))\nax = fig.add_subplot(111, projection='3d')\n\n# 3. Vẽ bề mặt\nsurf = ax.plot_surface(X, Y, Z, cmap='viridis')\n\n# 4. Thêm thanh màu (colorbar)\nfig.colorbar(surf)\nplt.title("Biểu đồ sóng 3D")\nplt.show()`,
                        helpers: [{ name: '3d', syntax: 'projection="3d"', desc: 'Kích hoạt 3D.' }]
                    }
                ]
            }
        ];

        /* ================= QUESTION BANK (FROM WORD FILE) ================= */
        const QUESTION_BANK = [
            { id: 1, q: "Thuật toán: Đặc điểm nào sau đây không phải là tính chất của thuật toán?", options: ["A. Tính xác định", "B. Tính dừng", "C. Tính ngẫu nhiên", "D. Tính đúng đắn"], correct: 2, explain: "Thuật toán phải có tính xác định, tính dừng và tính đúng đắn. Tính ngẫu nhiên không phải là tính chất bắt buộc của thuật toán." },
            { id: 2, q: "Toán tử: Kết quả của phép chia lấy phần nguyên <code class='font-mono bg-slate-100 px-1 rounded'>15 // 4</code> trong Python là gì?", options: ["A. 3.75", "B. 3", "C. 4", "D. 3.0"], correct: 1, explain: "15 chia 4 được 3 dư 3. Phép // lấy phần nguyên nên kết quả là 3." },
            { id: 3, q: "Kiểu dữ liệu: Hàm <code class='font-mono bg-slate-100 px-1 rounded'>input()</code> trong Python 3 luôn trả về kiểu dữ liệu nào?", options: ["A. int", "B. float", "C. str", "D. bool"], correct: 2, explain: "Trong Python 3, hàm input() luôn trả về chuỗi (str)." },
            { id: 4, q: "Biến: Quy tắc đặt tên biến nào sau đây là không hợp lệ?", options: ["A. my_var", "B. _var", "C. 2var", "D. var2"], correct: 2, explain: "Tên biến không được bắt đầu bằng số (2var)." },
            { id: 5, q: "Chuỗi: Để tính độ dài của chuỗi s, ta dùng hàm nào?", options: ["A. size(s)", "B. length(s)", "C. len(s)", "D. count(s)"], correct: 2, explain: "Hàm len(s) dùng để lấy độ dài chuỗi." },
            { id: 6, q: "Cấu trúc rẽ nhánh: Câu lệnh nào dùng để kiểm tra nhiều điều kiện liên tiếp sau if?", options: ["A. else if", "B. elseif", "C. elif", "D. switch"], correct: 2, explain: "Python sử dụng từ khóa 'elif' (viết tắt của else if)." },
            { id: 7, q: "Vòng lặp: Lệnh nào dùng để thoát khỏi vòng lặp ngay lập tức?", options: ["A. continue", "B. pass", "C. break", "D. exit"], correct: 2, explain: "Lệnh break dùng để thoát khỏi vòng lặp ngay lập tức." },
            { id: 8, q: "Vòng lặp: Trong cấu trúc <code class='font-mono bg-slate-100 px-1 rounded'>for-else</code>, khối else được thực thi khi nào?", options: ["A. Khi vòng lặp gặp lệnh break.", "B. Khi vòng lặp kết thúc mà không gặp lệnh break.", "C. Luôn luôn thực thi.", "D. Không bao giờ thực thi."], correct: 1, explain: "Khối else trong for-else chạy khi vòng lặp hoàn thành hết các lần lặp mà không bị ngắt bởi break." },
            { id: 9, q: "List: List trong Python có đặc điểm gì?", options: ["A. Không thể thay đổi (immutable).", "B. Có thể thay đổi (mutable).", "C. Chỉ chứa các số nguyên.", "D. Kích thước cố định."], correct: 1, explain: "List là mutable, có thể thêm, sửa, xóa phần tử." },
            { id: 10, q: "Tuple: Sự khác biệt chính giữa List và Tuple là gì?", options: ["A. List dùng ngoặc (), Tuple dùng ngoặc [].", "B. List có thể thay đổi, Tuple không thể thay đổi.", "C. Tuple nhanh hơn List rất nhiều.", "D. Tuple chỉ chứa được chuỗi."], correct: 1, explain: "List là mutable (đổi được), Tuple là immutable (không đổi được)." },
            { id: 11, q: "Set: Tập hợp (Set) dùng để làm gì?", options: ["A. Lưu trữ các phần tử có thứ tự.", "B. Lưu trữ các cặp key-value.", "C. Lưu trữ các phần tử duy nhất, không trùng lặp.", "D. Lưu trữ dữ liệu dạng bảng."], correct: 2, explain: "Set lưu trữ các phần tử không trùng lặp (unique) và không có thứ tự." },
            { id: 12, q: "Dictionary: Để truy xuất giá trị trong Dictionary, ta dùng:", options: ["A. Chỉ số (index).", "B. Khóa (key).", "C. Giá trị (value).", "D. Hàm get_index()."], correct: 1, explain: "Dictionary truy xuất giá trị thông qua Key." },
            { id: 13, q: "Hàm: Từ khóa nào dùng để định nghĩa một hàm?", options: ["A. func", "B. function", "C. define", "D. def"], correct: 3, explain: "Python dùng từ khóa 'def' để định nghĩa hàm." },
            { id: 14, q: "Hàm: Biến được khai báo bên trong hàm được gọi là?", options: ["A. Biến toàn cục (global).", "B. Biến cục bộ (local).", "C. Biến hằng (constant).", "D. Biến môi trường."], correct: 1, explain: "Biến trong hàm là biến cục bộ (local scope)." },
            { id: 15, q: "Hàm: Hàm nặc danh (anonymous function) trong Python được tạo bằng từ khóa nào?", options: ["A. anonymous", "B. lambda", "C. inline", "D. short"], correct: 1, explain: "Hàm nặc danh dùng từ khóa 'lambda'." },
            { id: 16, q: "Module: Để sử dụng hàm sqrt từ module math, câu lệnh nào đúng?", options: ["A. import sqrt from math", "B. from math import sqrt", "C. use math.sqrt", "D. include math"], correct: 1, explain: "Cú pháp đúng: from math import sqrt." },
            { id: 17, q: "Module: Thuộc tính <code class='font-mono bg-slate-100 px-1 rounded'>__name__</code> của module có giá trị gì khi module được chạy trực tiếp?", options: ["A. Tên file", "B. __init__", "C. __main__", "D. None"], correct: 2, explain: "Khi chạy trực tiếp, __name__ có giá trị là '__main__'." },
            { id: 18, q: "Class: Phương thức khởi tạo trong Class có tên là gì?", options: ["A. __init__", "B. __create__", "C. __start__", "D. __class__"], correct: 0, explain: "Phương thức khởi tạo (constructor) là __init__." },
            { id: 19, q: "Class: Tham số đầu tiên của các phương thức trong Class (thường đặt là self) đại diện cho cái gì?", options: ["A. Class đó.", "B. Đối tượng (instance) hiện tại.", "C. Biến toàn cục.", "D. Hàm cha."], correct: 1, explain: "self đại diện cho chính đối tượng (instance) đang gọi phương thức." },
            { id: 20, q: "Class: Kế thừa trong Python được khai báo như thế nào?", options: ["A. class Con extends Cha:", "B. class Con(Cha):", "C. class Con : Cha", "D. class Con inherits Cha"], correct: 1, explain: "Cú pháp kế thừa: class Con(Cha):" },
            { id: 21, q: "Numpy: Cú pháp tạo mảng Numpy từ list <code class='font-mono bg-slate-100 px-1 rounded'>[1, 2, 3]</code>?", options: ["A. np.create([1, 2, 3])", "B. np.array([1, 2, 3])", "C. np.list([1, 2, 3])", "D. np.object([1, 2, 3])"], correct: 1, explain: "Dùng np.array() để tạo mảng." },
            { id: 22, q: "Numpy: Hàm nào dùng để tạo mảng toàn số 0?", options: ["A. np.zeros()", "B. np.empty()", "C. np.null()", "D. np.O()"], correct: 0, explain: "np.zeros() tạo mảng chứa toàn số 0." },
            { id: 23, q: "Pandas: Cấu trúc dữ liệu chính để lưu trữ bảng 2 chiều trong Pandas là gì?", options: ["A. Series", "B. DataFrame", "C. Panel", "D. Table"], correct: 1, explain: "DataFrame là cấu trúc bảng 2 chiều chính của Pandas." },
            { id: 24, q: "Pandas: Hàm <code class='font-mono bg-slate-100 px-1 rounded'>read_csv()</code> dùng để làm gì?", options: ["A. Đọc file Excel.", "B. Đọc file văn bản phân cách bằng dấu phẩy.", "C. Đọc file JSON.", "D. Đọc file SQL."], correct: 1, explain: "read_csv đọc file CSV (Comma Separated Values)." },
            { id: 25, q: "Matplotlib: Hàm <code class='font-mono bg-slate-100 px-1 rounded'>plt.plot()</code> thường dùng để vẽ biểu đồ gì?", options: ["A. Biểu đồ cột.", "B. Biểu đồ tròn.", "C. Biểu đồ đường (line chart).", "D. Biểu đồ phân tán (scatter)."], correct: 2, explain: "plt.plot() mặc định vẽ biểu đồ đường." },
            { id: 26, q: "Matplotlib: Để đặt nhãn cho trục X, ta dùng hàm nào?", options: ["A. plt.xlabel()", "B. plt.labelx()", "C. plt.xtitle()", "D. plt.set_x()"], correct: 0, explain: "Dùng plt.xlabel() để đặt tên trục hoành." },
            
            // --- CÁC CÂU CÓ CODE PHỨC TẠP ĐƯỢC FORMAT LẠI Ở ĐÂY ---
            { 
                id: 27, 
                q: "Kết quả in ra màn hình của đoạn code sau?<div class='my-3 p-3 bg-slate-50 rounded-lg font-mono text-sm border border-slate-200'>x = 10<br>if x > 5:<br>&nbsp;&nbsp;&nbsp;&nbsp;print('A')<br>elif x > 8:<br>&nbsp;&nbsp;&nbsp;&nbsp;print('B')<br>else:<br>&nbsp;&nbsp;&nbsp;&nbsp;print('C')</div>", 
                options: ["A. A", "B. B", "C. C", "D. A và B"], correct: 0, explain: "Vì x=10 > 5 là đúng, in A và kết thúc khối if." 
            },
            { 
                id: 28, 
                q: "Kết quả của <code class='font-mono bg-slate-100 px-1 rounded'>print(3 * '7')</code> là gì?", 
                options: ["A. 21", "B. '777'", "C. '21'", "D. Lỗi"], correct: 1, explain: "Nhân chuỗi với số nguyên sẽ lặp lại chuỗi đó." 
            },
            { 
                id: 29, 
                q: "Kết quả của đoạn code sau?<div class='my-3 p-3 bg-slate-50 rounded-lg font-mono text-sm border border-slate-200'>a = [1, 2, 3]<br>b = a<br>a[0] = 9<br>print(b[0])</div>", 
                options: ["A. 1", "B. 9", "C. 3", "D. Lỗi"], correct: 1, explain: "List là tham chiếu, b trỏ cùng vùng nhớ với a. Sửa a thì b cũng đổi." 
            },
            { 
                id: 30, 
                q: "Giá trị của biến count sau vòng lặp?<div class='my-3 p-3 bg-slate-50 rounded-lg font-mono text-sm border border-slate-200'>count = 0<br>for i in range(1, 4):<br>&nbsp;&nbsp;&nbsp;&nbsp;count += i</div>", 
                options: ["A. 3", "B. 4", "C. 6", "D. 10"], correct: 2, explain: "range(1,4) là 1, 2, 3. Tổng 1+2+3 = 6." 
            },
            { 
                id: 31, 
                q: "Kết quả in ra của hàm sau?<div class='my-3 p-3 bg-slate-50 rounded-lg font-mono text-sm border border-slate-200'>def func(x=[]):<br>&nbsp;&nbsp;&nbsp;&nbsp;x.append(1)<br>&nbsp;&nbsp;&nbsp;&nbsp;return x<br><br>print(func())<br>print(func())</div>", 
                options: ["A. [1] và [1]", "B. [1] và [1, 1]", "C. [1] và []", "D. Lỗi"], correct: 1, explain: "Tham số mặc định là mutable (list) chỉ khởi tạo 1 lần. Gọi lần 2 sẽ tiếp tục thêm vào list cũ." 
            },
            { 
                id: 32, 
                q: "Kết quả của đoạn code Numpy sau?<div class='my-3 p-3 bg-slate-50 rounded-lg font-mono text-sm border border-slate-200'>arr = np.array([1, 2, 3])<br>print(arr + 1)</div>", 
                options: ["A. [1, 2, 3, 1]", "B. [2, 3, 4]", "C. [11, 12, 13]", "D. Lỗi"], correct: 1, explain: "Numpy cộng broadcasting: cộng 1 vào từng phần tử." 
            },
            { 
                id: 33, 
                q: "Kết quả slicing:<div class='my-3 p-3 bg-slate-50 rounded-lg font-mono text-sm border border-slate-200'>s = 'PYTHON'<br>print(s[::-1])</div>", 
                options: ["A. PYTHON", "B. NOHTYP", "C. P", "D. N"], correct: 1, explain: "Slicing [::-1] đảo ngược chuỗi." 
            },
            { 
                id: 34, 
                q: "Kết quả của phép toán logic:<div class='my-3 p-3 bg-slate-50 rounded-lg font-mono text-sm border border-slate-200'>print(True and False or True)</div>", 
                options: ["A. True", "B. False", "C. None", "D. Lỗi"], correct: 0, explain: "(True and False) -> False. (False or True) -> True." 
            },
            { 
                id: 35, 
                q: "Kết quả của <code class='font-mono bg-slate-100 px-1 rounded'>len({1, 2, 2, 3})</code>?", 
                options: ["A. 4", "B. 3", "C. 2", "D. Lỗi"], correct: 1, explain: "Set loại bỏ phần tử trùng lặp, còn lại {1, 2, 3}." 
            },
            { 
                id: 36, 
                q: "Kết quả của <code class='font-mono bg-slate-100 px-1 rounded'>print('Hello'.replace('l', 'r'))</code>?", 
                options: ["A. Herro", "B. Hello", "C. Hero", "D. Lỗi"], correct: 0, explain: "Thay thế tất cả 'l' thành 'r'." 
            },
            { 
                id: 37, 
                q: "Đoạn code <code class='font-mono bg-slate-100 px-1 rounded'>plt.bar(x, y)</code> sẽ vẽ ra loại biểu đồ nào?", 
                options: ["A. Biểu đồ đường.", "B. Biểu đồ cột đứng.", "C. Biểu đồ tròn.", "D. Biểu đồ miền."], correct: 1, explain: "plt.bar() vẽ biểu đồ cột." 
            },
            { 
                id: 38, 
                q: "Đoạn code <code class='font-mono bg-slate-100 px-1 rounded'>plt.scatter(x, y)</code> sẽ tạo ra hình ảnh như thế nào?", 
                options: ["A. Các điểm rời rạc trên mặt phẳng tọa độ.", "B. Các cột liền kề nhau.", "C. Một đường cong trơn.", "D. Các hình quạt tròn."], correct: 0, explain: "scatter là biểu đồ phân tán (điểm)." 
            },
            { 
                id: 39, 
                q: "Điền vào chỗ trống để định nghĩa hàm tính tổng:<div class='my-3 p-3 bg-slate-50 rounded-lg font-mono text-sm border border-slate-200'>___ sum(a, b):<br>&nbsp;&nbsp;&nbsp;&nbsp;return a + b</div>", 
                options: ["A. function", "B. def", "C. class", "D. void"], correct: 1, explain: "Dùng def để định nghĩa hàm." 
            },
            { 
                id: 40, 
                q: "Điền vào chỗ trống để vòng lặp chạy 5 lần:<div class='my-3 p-3 bg-slate-50 rounded-lg font-mono text-sm border border-slate-200'>for i in range(___):<br>&nbsp;&nbsp;&nbsp;&nbsp;print(i)</div>", 
                options: ["A. 4", "B. 5", "C. 6", "D. 1, 5"], correct: 1, explain: "range(5) chạy từ 0 đến 4 (5 lần)." 
            },
            { 
                id: 41, 
                q: "Điền vào chỗ trống để thêm phần tử vào cuối list:<div class='my-3 p-3 bg-slate-50 rounded-lg font-mono text-sm border border-slate-200'>my_list = [1, 2]<br>my_list.___(3)</div>", 
                options: ["A. add", "B. insert", "C. append", "D. push"], correct: 2, explain: "List dùng append() để thêm vào cuối." 
            },
            { 
                id: 42, 
                q: "Điền từ khóa để xử lý ngoại lệ:<div class='my-3 p-3 bg-slate-50 rounded-lg font-mono text-sm border border-slate-200'>try:<br>&nbsp;&nbsp;&nbsp;&nbsp;...<br>___ ZeroDivisionError:</div>", 
                options: ["A. catch", "B. except", "C. else", "D. finally"], correct: 1, explain: "Python dùng except để bắt lỗi." 
            },
            { 
                id: 43, 
                q: "Điền vào chỗ trống để khởi tạo đối tượng từ lớp HinhChuNhat:<div class='my-3 p-3 bg-slate-50 rounded-lg font-mono text-sm border border-slate-200'>hcn = ___(dai, rong)</div>", 
                options: ["A. new HinhChuNhat", "B. HinhChuNhat", "C. create HinhChuNhat", "D. init HinhChuNhat"], correct: 1, explain: "Gọi tên lớp như một hàm để khởi tạo: HinhChuNhat()." 
            },
            { 
                id: 44, 
                q: "Điền vào chỗ trống để import thư viện numpy với tên tắt là np:<div class='my-3 p-3 bg-slate-50 rounded-lg font-mono text-sm border border-slate-200'>import numpy ___ np</div>", 
                options: ["A. is", "B. as", "C. like", "D. to"], correct: 1, explain: "Cú pháp alias: import ... as ..." 
            },
            { 
                id: 45, 
                q: "Dòng nào gây lỗi cú pháp?<div class='my-3 p-3 bg-slate-50 rounded-lg font-mono text-sm border border-slate-200'>#1 x=5<br>#2 if x=5:<br>#3 &nbsp;&nbsp;&nbsp;&nbsp;print('Bang nhau')</div>", 
                options: ["A. Dòng 1", "B. Dòng 2", "C. Dòng 3", "D. Không có lỗi"], correct: 1, explain: "So sánh phải dùng ==, gán dùng =. Dòng 2 sai (if x = 5)." 
            },
            { 
                id: 46, 
                q: "Tìm lỗi trong đoạn code sau:<div class='my-3 p-3 bg-slate-50 rounded-lg font-mono text-sm border border-slate-200'>t = (1, 2, 3)<br>t[0] = 5<br>print(t)</div>", 
                options: ["A. Sai cú pháp khai báo tuple.", "B. Tuple không cho phép gán lại giá trị phần tử (immutable).", "C. Lỗi hàm print.", "D. Không có lỗi."], correct: 1, explain: "Tuple là bất biến (immutable), không thể gán lại phần tử." 
            },
            { 
                id: 47, 
                q: "Dòng nào gây lỗi?<div class='my-3 p-3 bg-slate-50 rounded-lg font-mono text-sm border border-slate-200'>#1 def my_func():<br>#2 &nbsp;&nbsp;&nbsp;&nbsp;print(x)<br>#4 my_func()</div>", 
                options: ["A. Dòng 1", "B. Dòng 2 (biến x chưa được định nghĩa).", "C. Dòng 4.", "D. Không có lỗi."], correct: 1, explain: "Biến x chưa được định nghĩa trước khi in." 
            },
            { 
                id: 48, 
                q: "Lỗi gì xảy ra ở đây? <code class='font-mono bg-slate-100 px-1 rounded'>print(int('12.5'))</code>", 
                options: ["A. SyntaxError", "B. TypeError", "C. ValueError", "D. NameError"], correct: 2, explain: "int() không thể chuyển chuỗi số thực ('12.5') trực tiếp, phải dùng float() trước hoặc chuỗi số nguyên." 
            },
            { 
                id: 49, 
                q: "Tìm lỗi logic (kết quả không như mong đợi):<div class='my-3 p-3 bg-slate-50 rounded-lg font-mono text-sm border border-slate-200'>avg = 2 + 3 / 2</div>", 
                options: ["A. Thiếu dấu ngoặc (2 + 3) / 2.", "B. Chia cho 0.", "C. Sai kiểu dữ liệu.", "D. Không có lỗi."], correct: 0, explain: "Phép chia thực hiện trước cộng. Muốn tính trung bình phải đóng ngoặc tổng." 
            },
            { 
                id: 50, 
                q: "Dòng nào gây lỗi Index?<div class='my-3 p-3 bg-slate-50 rounded-lg font-mono text-sm border border-slate-200'>lst = [1, 2, 3]<br>print(lst[3])</div>", 
                options: ["A. Khai báo list sai.", "B. Truy cập chỉ số 3 (vượt quá độ dài list 0-2).", "C. Lỗi hàm print.", "D. Không có lỗi."], correct: 1, explain: "List có 3 phần tử, index là 0, 1, 2. Index 3 out of range." 
            },
            
            // --- CÁC CÂU LÝ THUYẾT GIỮ NGUYÊN HOẶC CHỈNH NHẸ STYLE ---
            { id: 51, q: "Thuật toán: Đặc điểm 'Tính dừng' của thuật toán nghĩa là gì?", options: ["A. Thuật toán chạy mãi mãi.", "B. Thuật toán phải kết thúc sau một số bước hữu hạn.", "C. Thuật toán có thể dừng hoặc không.", "D. Thuật toán dừng khi người dùng bấm nút."], correct: 1, explain: "Tính dừng: Thuật toán phải kết thúc sau hữu hạn bước." },
            { id: 52, q: "Toán tử: Toán tử <code class='font-mono bg-slate-100 px-1 rounded'>**</code> trong Python thực hiện phép toán gì?", options: ["A. Nhân đôi.", "B. Chia lấy dư.", "C. Lũy thừa (mũ).", "D. Căn bậc hai."], correct: 2, explain: "** là toán tử lũy thừa." },
            { id: 53, q: "Kiểu dữ liệu: Kiểu dữ liệu bool chỉ có thể nhận những giá trị nào?", options: ["A. 0 và 1.", "B. True và False.", "C. Yes và No.", "D. Đúng và Sai."], correct: 1, explain: "Boolean chỉ có True hoặc False." },
            { id: 54, q: "Biến: Trong Python, biến toàn cục (global variable) có phạm vi hoạt động ở đâu?", options: ["A. Chỉ trong hàm main.", "B. Chỉ trong một hàm cụ thể.", "C. Trong toàn bộ chương trình (file).", "D. Chỉ trong vòng lặp."], correct: 2, explain: "Biến toàn cục có thể truy cập trong toàn bộ file." },
            { id: 55, q: "Chuỗi: Để chuyển toàn bộ chuỗi sang chữ in hoa, ta dùng phương thức nào?", options: ["A. upper()", "B. lower()", "C. capitalize()", "D. title()"], correct: 0, explain: "upper() chuyển chuỗi sang in hoa." },
            { id: 56, q: "Cấu trúc rẽ nhánh: Trong câu lệnh <code class='font-mono bg-slate-100 px-1 rounded'>if a > b:</code>, khối lệnh bên trong được xác định bằng cách nào?", options: ["A. Dấu ngoặc nhọn {}.", "B. Dấu ngoặc tròn ().", "C. Thụt đầu dòng (Indentation).", "D. Từ khóa begin và end."], correct: 2, explain: "Python dùng thụt đầu dòng (indentation) để xác định khối lệnh." },
            { id: 57, q: "Vòng lặp: Hàm <code class='font-mono bg-slate-100 px-1 rounded'>range(5)</code> tạo ra dãy số nào?", options: ["A. 1, 2, 3, 4, 5", "B. 0, 1, 2, 3, 4, 5", "C. 0, 1, 2, 3, 4", "D. 1, 2, 3, 4"], correct: 2, explain: "range(5) bắt đầu từ 0 đến 4 (5 phần tử)." },
            { id: 58, q: "Vòng lặp: Vòng lặp <code class='font-mono bg-slate-100 px-1 rounded'>while</code> sẽ chạy khi nào?", options: ["A. Khi điều kiện là False.", "B. Khi điều kiện là True.", "C. Chạy đúng 1 lần.", "D. Chạy vô hạn lần."], correct: 1, explain: "While chạy khi điều kiện là True." },
            { id: 59, q: "List: Để xóa phần tử có giá trị cụ thể trong list, ta dùng phương thức nào?", options: ["A. del", "B. remove()", "C. pop()", "D. clear()"], correct: 1, explain: "remove(x) xóa phần tử có giá trị x." },
            { id: 60, q: "Tuple: Tuple có hỗ trợ phương thức <code class='font-mono bg-slate-100 px-1 rounded'>append()</code> không?", options: ["A. Có.", "B. Không.", "C. Chỉ khi tuple rỗng.", "D. Chỉ khi tuple chứa số."], correct: 1, explain: "Tuple bất biến nên không có append()." },
            { id: 61, q: "Set: Phép toán <code class='font-mono bg-slate-100 px-1 rounded'>&</code> giữa hai set thực hiện điều gì?", options: ["A. Hợp (Union).", "B. Giao (Intersection).", "C. Hiệu (Difference).", "D. Bù."], correct: 1, explain: "& là phép giao (Intersection)." },
            { id: 62, q: "Dictionary: Hàm <code class='font-mono bg-slate-100 px-1 rounded'>keys()</code> của dictionary trả về cái gì?", options: ["A. Danh sách các giá trị (values).", "B. Danh sách các khóa (keys).", "C. Danh sách các cặp key-value.", "D. Số lượng phần tử."], correct: 1, explain: "keys() trả về danh sách các khóa." },
            { id: 63, q: "Hàm: Tham số mặc định (default parameter) được khai báo như thế nào?", options: ["A. def func(a, b = 1):", "B. def func(a = 1, b):", "C. def func(a, b) = 1:", "D. def func(a: 1, b):"], correct: 0, explain: "Tham số mặc định phải nằm ở cuối danh sách tham số." },
            { id: 64, q: "Hàm: Hàm <code class='font-mono bg-slate-100 px-1 rounded'>map()</code> dùng để làm gì?", options: ["A. Vẽ bản đồ.", "B. Áp dụng một hàm lên từng phần tử của một danh sách.", "C. Lọc danh sách.", "D. Sắp xếp danh sách."], correct: 1, explain: "map() áp dụng hàm cho từng phần tử." },
            { id: 65, q: "Hàm: Hàm <code class='font-mono bg-slate-100 px-1 rounded'>filter()</code> trả về cái gì?", options: ["A. Các phần tử thỏa mãn điều kiện (True).", "B. Các phần tử không thỏa mãn điều kiện (False).", "C. Số lượng phần tử thỏa mãn.", "D. Danh sách đã được sắp xếp."], correct: 0, explain: "filter() trả về các phần tử làm cho hàm điều kiện trả về True." },
            { id: 66, q: "Module: Hàm <code class='font-mono bg-slate-100 px-1 rounded'>randint(a, b)</code> trong module random trả về số nguyên N sao cho:", options: ["A. a <= N < b", "B. a <= N <= b", "C. a < N < b", "D. a < N <= b"], correct: 1, explain: "randint(a, b) bao gồm cả a và b." },
            { id: 67, q: "Module: Để tạo bí danh (alias) cho module khi import, ta dùng từ khóa gì?", options: ["A. name", "B. as", "C. is", "D. like"], correct: 1, explain: "Dùng từ khóa 'as'." },
            { id: 68, q: "Class: Phương thức <code class='font-mono bg-slate-100 px-1 rounded'>__str__</code> dùng để làm gì?", options: ["A. Khởi tạo đối tượng.", "B. Trả về chuỗi đại diện cho đối tượng (khi in ra).", "C. So sánh hai đối tượng.", "D. Xóa đối tượng."], correct: 1, explain: "__str__ trả về chuỗi hiển thị của đối tượng." },
            { id: 69, q: "Class: Để gọi phương thức của lớp cha trong lớp con, ta dùng hàm gì?", options: ["A. parent()", "B. super()", "C. base()", "D. father()"], correct: 1, explain: "Dùng super() để gọi lớp cha." },
            { id: 70, q: "Class: Tính đa hình (Polymorphism) cho phép điều gì?", options: ["A. Một lớp có nhiều hàm khởi tạo.", "B. Các đối tượng khác nhau phản ứng khác nhau với cùng một phương thức.", "C. Một lớp kế thừa từ nhiều lớp.", "D. Ẩn dữ liệu bên trong lớp."], correct: 1, explain: "Đa hình: Cùng tên phương thức nhưng hành vi khác nhau ở các lớp khác nhau." },
            // ========================================================================
            // --- BẮT ĐẦU PHẦN BỔ SUNG (ID 71 - 170) ---
            // ========================================================================
            
            // --- PART 1: PYTHON CƠ BẢN & SLICING (71-85) ---
            { 
                id: 71, 
                q: "Kết quả của phép slicing: <code class='font-mono bg-slate-100 px-1 rounded'>a = [10, 20, 30, 40, 50]; print(a[1:4])</code>?", 
                options: ["A. [10, 20, 30]", "B. [20, 30, 40]", "C. [20, 30, 40, 50]", "D. [30, 40, 50]"], correct: 1, explain: "Slicing lấy từ start (index 1 là 20) đến sát end (index 4 là 50), tức là lấy index 1, 2, 3." 
            },
            { 
                id: 72, 
                q: "List Comprehension: Kết quả của <code class='font-mono bg-slate-100 px-1 rounded'>[x**2 for x in range(3)]</code> là gì?", 
                options: ["A. [1, 2, 3]", "B. [1, 4, 9]", "C. [0, 1, 4]", "D. [0, 2, 4]"], correct: 2, explain: "range(3) tạo ra 0, 1, 2. Bình phương lên sẽ là 0, 1, 4." 
            },
            { 
                id: 73, 
                q: "Chuỗi: Hàm nào dùng để tách một chuỗi thành list dựa trên ký tự phân cách?", 
                options: ["A. split()", "B. join()", "C. strip()", "D. slice()"], correct: 0, explain: "Hàm split() tách chuỗi. Ví dụ: 'a,b'.split(',') -> ['a', 'b']." 
            },
            { 
                id: 74, 
                q: "Dictionary: Điều gì xảy ra khi gọi <code class='font-mono bg-slate-100 px-1 rounded'>d['key']</code> mà 'key' không tồn tại?", 
                options: ["A. Trả về None.", "B. Trả về 0.", "C. Gây lỗi KeyError.", "D. Tạo key mới với giá trị rỗng."], correct: 2, explain: "Truy cập trực tiếp bằng d['key'] sẽ gây lỗi nếu key thiếu. Nên dùng d.get('key') để an toàn." 
            },
            { 
                id: 75, 
                q: "Vòng lặp: Lệnh <code class='font-mono bg-slate-100 px-1 rounded'>continue</code> có tác dụng gì?", 
                options: ["A. Thoát khỏi vòng lặp ngay lập tức.", "B. Bỏ qua phần còn lại của lần lặp hiện tại, sang lần kế tiếp.", "C. Khởi động lại vòng lặp từ đầu.", "D. Dừng chương trình."], correct: 1, explain: "Lệnh continue bỏ qua các lệnh bên dưới nó trong lần lặp hiện tại để nhảy sang vòng lặp kế tiếp." 
            },
            { 
                id: 76, 
                q: "Toán tử: Sự khác nhau giữa <code class='font-mono bg-slate-100 px-1 rounded'>==</code> và <code class='font-mono bg-slate-100 px-1 rounded'>is</code> là gì?", 
                options: ["A. Không có gì khác nhau.", "B. == so sánh giá trị, is so sánh địa chỉ ô nhớ (identity).", "C. == so sánh số, is so sánh chuỗi.", "D. is dùng cho phép gán."], correct: 1, explain: "== kiểm tra giá trị tương đương, is kiểm tra xem hai biến có cùng trỏ vào một object trong bộ nhớ không." 
            },
            { 
                id: 77, 
                q: "Hàm: Cú pháp <code class='font-mono bg-slate-100 px-1 rounded'>*args</code> trong định nghĩa hàm dùng để làm gì?", 
                options: ["A. Nhận một số lượng tham số tùy ý (tuple).", "B. Nhận tham số dạng dictionary.", "C. Trỏ đến con trỏ bộ nhớ.", "D. Nhân đôi giá trị tham số."], correct: 0, explain: "*args cho phép hàm nhận vô số đối số vị trí (positional arguments) dưới dạng tuple." 
            },
            { 
                id: 78, 
                q: "File: Tại sao nên dùng <code class='font-mono bg-slate-100 px-1 rounded'>with open(...) as f:</code>?", 
                options: ["A. Để file mở nhanh hơn.", "B. Để tự động đóng file ngay cả khi xảy ra lỗi.", "C. Để đọc file nhị phân.", "D. Để đổi tên file."], correct: 1, explain: "Cấu trúc with (Context Manager) đảm bảo file luôn được đóng (f.close()) sau khi block kết thúc hoặc gặp lỗi." 
            },
            { 
                id: 79, 
                q: "Set: Kết quả của <code class='font-mono bg-slate-100 px-1 rounded'>{1, 2, 3}.union({3, 4, 5})</code>?", 
                options: ["A. {3}", "B. {1, 2, 3, 4, 5}", "C. {1, 2, 4, 5}", "D. {1, 2, 3, 3, 4, 5}"], correct: 1, explain: "Union (Hợp) lấy tất cả phần tử của 2 set, loại bỏ trùng lặp." 
            },
            { 
                id: 80, 
                q: "String: Phương thức <code class='font-mono bg-slate-100 px-1 rounded'>strip()</code> làm gì?", 
                options: ["A. Xóa khoảng trắng ở giữa chuỗi.", "B. Xóa khoảng trắng ở hai đầu chuỗi.", "C. Cắt chuỗi thành list.", "D. Viết hoa đầu câu."], correct: 1, explain: "strip() loại bỏ whitespace (dấu cách, tab, xuống dòng) ở đầu và cuối chuỗi." 
            },
            { 
                id: 81, 
                q: "Output của đoạn code: <code class='font-mono bg-slate-100 px-1 rounded'>print('Python'[::-1])</code>?", 
                options: ["A. Python", "B. nohtyP", "C. P", "D. n"], correct: 1, explain: "Slicing với step = -1 sẽ đảo ngược chuỗi." 
            },
            { 
                id: 82, 
                q: "Phép toán: <code class='font-mono bg-slate-100 px-1 rounded'>10 % 3</code> trả về kết quả bao nhiêu?", 
                options: ["A. 3.33", "B. 3", "C. 1", "D. 0"], correct: 2, explain: "Toán tử % lấy phần dư. 10 chia 3 được 3 dư 1." 
            },
            { 
                id: 83, 
                q: "Type: <code class='font-mono bg-slate-100 px-1 rounded'>type((1,))</code> trả về kiểu dữ liệu gì?", 
                options: ["A. int", "B. tuple", "C. list", "D. set"], correct: 1, explain: "(1,) là tuple có 1 phần tử. Nếu viết (1) thì là int." 
            },
            { 
                id: 84, 
                q: "Boolean: Giá trị nào sau đây được coi là False trong Python?", 
                options: ["A. 'False'", "B. -1", "C. [] (List rỗng)", "D. [0]"], correct: 2, explain: "Trong Python: 0, None, List rỗng [], String rỗng '' đều được coi là False." 
            },
            { 
                id: 85, 
                q: "Variable: Cách gán giá trị nào sau đây là hợp lệ để đổi chỗ a và b?", 
                options: ["A. a = b; b = a", "B. a, b = b, a", "C. swap(a, b)", "D. a.swap(b)"], correct: 1, explain: "Python hỗ trợ Tuple Unpacking: a, b = b, a giúp đổi giá trị nhanh chóng." 
            },

            // --- PART 2: CẤU TRÚC ĐIỀU KHIỂN & HÀM (86-100) ---
            { 
                id: 86, 
                q: "Hàm <code class='font-mono bg-slate-100 px-1 rounded'>enumerate(lst)</code> dùng để làm gì?", 
                options: ["A. Sắp xếp list.", "B. Đếm số phần tử.", "C. Duyệt qua list kèm theo chỉ số index.", "D. Xóa phần tử trùng."], correct: 2, explain: "enumerate(['a','b']) trả về ((0, 'a'), (1, 'b'))... giúp lấy cả index và value." 
            },
            { 
                id: 87, 
                q: "Keyword: <code class='font-mono bg-slate-100 px-1 rounded'>pass</code> trong Python có nghĩa là gì?", 
                options: ["A. Bỏ qua vòng lặp.", "B. Không làm gì cả (giữ chỗ).", "C. Kết thúc chương trình.", "D. Chuyển quyền điều khiển."], correct: 1, explain: "pass là câu lệnh rỗng, dùng để giữ chỗ cho code chưa viết mà không gây lỗi cú pháp." 
            },
            { 
                id: 88, 
                q: "Scope: Từ khóa <code class='font-mono bg-slate-100 px-1 rounded'>global</code> dùng để làm gì trong hàm?", 
                options: ["A. Khai báo biến mới.", "B. Cho phép hàm sửa đổi biến toàn cục.", "C. Gọi hàm từ module khác.", "D. Tạo biến hằng số."], correct: 1, explain: "Dùng global x để báo cho Python biết ta muốn ghi đè biến x ở phạm vi toàn cục." 
            },
            { 
                id: 89, 
                q: "Lambda: <code class='font-mono bg-slate-100 px-1 rounded'>f = lambda x: x + 1</code>. Gọi f(2) trả về mấy?", 
                options: ["A. 2", "B. 3", "C. 1", "D. Lỗi"], correct: 1, explain: "Lambda là hàm ẩn danh. x=2 thì x+1=3." 
            },
            { 
                id: 90, 
                q: "List method: <code class='font-mono bg-slate-100 px-1 rounded'>lst.insert(0, 'x')</code> làm gì?", 
                options: ["A. Thêm 'x' vào cuối list.", "B. Thay thế phần tử đầu tiên bằng 'x'.", "C. Chèn 'x' vào đầu list, đẩy các phần tử khác ra sau.", "D. Xóa phần tử ở index 0."], correct: 2, explain: "insert(index, value) chèn giá trị vào vị trí chỉ định." 
            },
            { 
                id: 91, 
                q: "Dictionary: Làm sao để hợp nhất dict2 vào dict1?", 
                options: ["A. dict1.add(dict2)", "B. dict1.append(dict2)", "C. dict1.update(dict2)", "D. dict1 + dict2"], correct: 2, explain: "Phương thức update() dùng để gộp dict khác vào dict hiện tại." 
            },
            { 
                id: 92, 
                q: "Set: Set có thể chứa một List bên trong nó không? Ví dụ: <code class='font-mono bg-slate-100 px-1 rounded'>{1, [2, 3]}</code>", 
                options: ["A. Có.", "B. Không, vì List là mutable (không thể băm/hash).", "C. Có, nhưng chỉ List số nguyên.", "D. Tùy phiên bản Python."], correct: 1, explain: "Phần tử trong Set phải là immutable (hashable). List là mutable nên không thể nằm trong Set." 
            },
            { 
                id: 93, 
                q: "Module: <code class='font-mono bg-slate-100 px-1 rounded'>if __name__ == '__main__':</code> thường dùng để làm gì?", 
                options: ["A. Kiểm tra lỗi.", "B. Chỉ chạy khối lệnh khi file được chạy trực tiếp (không phải import).", "C. Khai báo hàm main.", "D. Import thư viện."], correct: 1, explain: "Giúp ngăn đoạn code chạy ngoài ý muốn khi module này được import vào module khác." 
            },
            { 
                id: 94, 
                q: "Exception: Khối <code class='font-mono bg-slate-100 px-1 rounded'>finally</code> chạy khi nào?", 
                options: ["A. Chỉ khi không có lỗi.", "B. Chỉ khi có lỗi.", "C. Luôn luôn chạy, bất kể có lỗi hay không.", "D. Khi người dùng bấm dừng."], correct: 2, explain: "finally luôn được thực thi để dọn dẹp tài nguyên (đóng file, ngắt kết nối...)." 
            },
            { 
                id: 95, 
                q: "List: Sự khác nhau giữa <code class='font-mono bg-slate-100 px-1 rounded'>lst.sort()</code> và <code class='font-mono bg-slate-100 px-1 rounded'>sorted(lst)</code>?", 
                options: ["A. Không khác nhau.", "B. sort() trả về list mới, sorted() sửa list gốc.", "C. sort() sửa list gốc (in-place), sorted() trả về list mới.", "D. sorted() chỉ dùng cho số."], correct: 2, explain: "sort() thay đổi trực tiếp list gọi nó. sorted() tạo ra list mới đã sắp xếp và giữ nguyên list gốc." 
            },
            { 
                id: 96, 
                q: "String: <code class='font-mono bg-slate-100 px-1 rounded'>' '.join(['Ha', 'Noi'])</code> trả về gì?", 
                options: ["A. 'HaNoi'", "B. 'Ha Noi'", "C. ['Ha', 'Noi']", "D. Lỗi"], correct: 1, explain: "join nối các phần tử list bằng chuỗi phân cách (ở đây là khoảng trắng)." 
            },
            { 
                id: 97, 
                q: "Dict: Cách xoá một key khỏi dictionary an toàn nhất?", 
                options: ["A. d.remove(key)", "B. d.delete(key)", "C. d.pop(key, None)", "D. del d[key]"], correct: 2, explain: "pop(key, None) sẽ xóa key và trả về value. Nếu key không tồn tại nó trả về None chứ không gây lỗi như del." 
            },
            { 
                id: 98, 
                q: "Logic: <code class='font-mono bg-slate-100 px-1 rounded'>not (True and False)</code> bằng gì?", 
                options: ["A. True", "B. False", "C. None", "D. Error"], correct: 0, explain: "True and False -> False. not False -> True." 
            },
            { 
                id: 99, 
                q: "Loop: Hàm <code class='font-mono bg-slate-100 px-1 rounded'>zip([1, 2], ['a', 'b'])</code> giúp làm gì?", 
                options: ["A. Nén file.", "B. Ghép cặp phần tử tương ứng của 2 list.", "C. Xóa phần tử trùng nhau.", "D. Tạo dictionary."], correct: 1, explain: "zip ghép cặp: (1, 'a'), (2, 'b'). Rất hữu ích khi duyệt 2 list cùng lúc." 
            },
            { 
                id: 100, 
                q: "Math: Hàm <code class='font-mono bg-slate-100 px-1 rounded'>abs(-10)</code> trả về gì?", 
                options: ["A. -10", "B. 10", "C. 0", "D. 10.0"], correct: 1, explain: "abs() trả về giá trị tuyệt đối." 
            },

            // --- PART 3: NUMPY & PANDAS (101-120) ---
            { 
                id: 101, 
                q: "Numpy: Kết quả của <code class='font-mono bg-slate-100 px-1 rounded'>np.ones((2, 3))</code> là gì?", 
                options: ["A. Mảng 1 chiều [1, 2, 3].", "B. Ma trận 2 hàng 3 cột toàn số 1.", "C. Ma trận 2 hàng 3 cột toàn số 0.", "D. Lỗi cú pháp."], correct: 1, explain: "np.ones((rows, cols)) tạo ma trận chứa toàn số 1 với kích thước chỉ định." 
            },
            { 
                id: 102, 
                q: "Numpy: Broadcasting là gì?", 
                options: ["A. Cơ chế phát sóng wifi.", "B. Cơ chế cho phép thực hiện phép toán giữa các mảng khác kích thước.", "C. Hàm in dữ liệu ra màn hình.", "D. Chuyển đổi dữ liệu sang chuỗi."], correct: 1, explain: "Broadcasting tự động mở rộng mảng nhỏ hơn để khớp kích thước với mảng lớn khi tính toán." 
            },
            { 
                id: 103, 
                q: "Numpy: Để lấy phần tử ở hàng 1, cột 2 trong mảng 2 chiều A, ta dùng?", 
                options: ["A. A[1, 2]", "B. A[1][2]", "C. Cả A và B đều đúng.", "D. A(1, 2)"], correct: 2, explain: "Numpy hỗ trợ cả cách truy cập kiểu list A[row][col] và kiểu tuple A[row, col] (nhanh hơn)." 
            },
            { 
                id: 104, 
                q: "Numpy: Hàm <code class='font-mono bg-slate-100 px-1 rounded'>np.arange(0, 10, 2)</code> tạo ra mảng nào?", 
                options: ["A. [0, 1, 2... 9]", "B. [0, 2, 4, 6, 8]", "C. [0, 2, 4, 6, 8, 10]", "D. [2, 4, 6, 8]"], correct: 1, explain: "arange(start, stop, step) tương tự range() của Python." 
            },
            { 
                id: 105, 
                q: "Numpy: Để chuyển mảng 1 chiều thành 2 chiều (reshape), ta dùng lệnh gì?", 
                options: ["A. arr.resize()", "B. arr.reshape()", "C. arr.convert()", "D. arr.view()"], correct: 1, explain: "reshape() thay đổi hình dạng của mảng mà không thay đổi dữ liệu." 
            },
            { 
                id: 106, 
                q: "Pandas: <code class='font-mono bg-slate-100 px-1 rounded'>df.head(5)</code> làm gì?", 
                options: ["A. Xem tên các cột.", "B. Xem 5 dòng đầu tiên.", "C. Xem 5 dòng cuối cùng.", "D. Xóa 5 dòng đầu."], correct: 1, explain: "head(n) trả về n dòng đầu tiên của DataFrame." 
            },
            { 
                id: 107, 
                q: "Pandas: Để lấy 5 dòng cuối cùng của DataFrame df, ta dùng hàm nào?", 
                options: ["A. df.last(5)", "B. df.tail(5)", "C. df.end(5)", "D. df.bottom(5)"], correct: 1, explain: "df.tail(n) trả về n dòng cuối cùng." 
            },
            { 
                id: 108, 
                q: "Pandas: Hàm <code class='font-mono bg-slate-100 px-1 rounded'>df.describe()</code> cung cấp thông tin gì?", 
                options: ["A. Vẽ biểu đồ.", "B. Thống kê mô tả (count, mean, std, min, max...) của các cột số.", "C. Mô tả tên cột và kiểu dữ liệu.", "D. In ra toàn bộ dữ liệu."], correct: 1, explain: "describe() tóm tắt thống kê các cột dữ liệu số." 
            },
            { 
                id: 109, 
                q: "Pandas: Để chọn cột 'Age' trong DataFrame df, cách nào sai?", 
                options: ["A. df['Age']", "B. df.Age", "C. df.loc[:, 'Age']", "D. df.get_col('Age')"], correct: 3, explain: "Không có hàm get_col. Các cách A, B, C đều hợp lệ (B chỉ dùng được nếu tên cột không có khoảng trắng)." 
            },
            { 
                id: 110, 
                q: "Pandas: Hàm <code class='font-mono bg-slate-100 px-1 rounded'>df.dropna()</code> dùng để làm gì?", 
                options: ["A. Xóa cột dữ liệu.", "B. Xóa các dòng có giá trị bị thiếu (NaN/Null).", "C. Thay thế giá trị thiếu bằng 0.", "D. Xóa bảng dữ liệu."], correct: 1, explain: "dropna() loại bỏ các hàng (hoặc cột) chứa giá trị NaN." 
            },
            { 
                id: 111, 
                q: "Pandas: <code class='font-mono bg-slate-100 px-1 rounded'>df.iloc[0]</code> truy xuất dòng đầu tiên dựa trên cái gì?", 
                options: ["A. Label (nhãn).", "B. Integer Index (vị trí số nguyên).", "C. Tên cột.", "D. Giá trị."], correct: 1, explain: "iloc truy xuất theo vị trí index (0, 1, 2...), còn loc truy xuất theo label (tên index)." 
            },
            { 
                id: 112, 
                q: "Pandas: Để lọc các dòng mà cột 'Age' > 20?", 
                options: ["A. df.query('Age > 20')", "B. df[df['Age'] > 20]", "C. Cả A và B đều đúng.", "D. df.filter(Age > 20)"], correct: 2, explain: "Cả Boolean Indexing (B) và hàm query (A) đều dùng để lọc dữ liệu." 
            },
            { 
                id: 113, 
                q: "Pandas: Hàm <code class='font-mono bg-slate-100 px-1 rounded'>df.groupby('Class').mean()</code> làm gì?", 
                options: ["A. Sắp xếp theo lớp.", "B. Gom nhóm theo 'Class' và tính trung bình các cột số.", "C. Đếm số lượng học sinh mỗi lớp.", "D. Tính tổng điểm mỗi lớp."], correct: 1, explain: "groupby gom nhóm, sau đó .mean() áp dụng hàm tính trung bình lên từng nhóm." 
            },
            { 
                id: 114, 
                q: "Pandas: Để lưu DataFrame ra file Excel, dùng hàm nào?", 
                options: ["A. df.to_excel('file.xlsx')", "B. df.save_excel('file.xlsx')", "C. df.write_excel('file.xlsx')", "D. df.export('file.xlsx')"], correct: 0, explain: "Hàm chuẩn là to_excel() (cần cài thư viện openpyxl)." 
            },
            { 
                id: 115, 
                q: "Pandas: Hàm <code class='font-mono bg-slate-100 px-1 rounded'>pd.merge(df1, df2)</code> tương tự phép toán nào trong SQL?", 
                options: ["A. SELECT", "B. JOIN", "C. GROUP BY", "D. WHERE"], correct: 1, explain: "merge() dùng để nối bảng dữ liệu, tương tự lệnh JOIN trong SQL." 
            },
            { 
                id: 116, 
                q: "Numpy: <code class='font-mono bg-slate-100 px-1 rounded'>np.linspace(0, 10, 5)</code> làm gì?", 
                options: ["A. Tạo 5 số ngẫu nhiên từ 0-10.", "B. Tạo mảng [0, 10, 5].", "C. Chia đoạn 0-10 thành 5 điểm cách đều nhau.", "D. Vẽ đường thẳng."], correct: 2, explain: "linspace (linear space) chia đều một khoảng giá trị." 
            },
            { 
                id: 117, 
                q: "Matplotlib: Hàm <code class='font-mono bg-slate-100 px-1 rounded'>plt.legend()</code> dùng để làm gì?", 
                options: ["A. Đặt tiêu đề.", "B. Hiển thị chú giải cho các đường vẽ.", "C. Lưu ảnh.", "D. Hiển thị lưới."], correct: 1, explain: "legend() hiển thị bảng chú thích dựa trên label của plot." 
            },
            { 
                id: 118, 
                q: "Matplotlib: Để vẽ 2 biểu đồ cạnh nhau, ta dùng hàm gì?", 
                options: ["A. plt.plot_two()", "B. plt.subplot()", "C. plt.double()", "D. plt.pair()"], correct: 1, explain: "subplot(rows, cols, index) giúp chia khung hình thành nhiều biểu đồ nhỏ." 
            },
            { 
                id: 119, 
                q: "Pandas: <code class='font-mono bg-slate-100 px-1 rounded'>df['A'].unique()</code> trả về gì?", 
                options: ["A. Số lượng phần tử.", "B. Các giá trị duy nhất trong cột A.", "C. Các giá trị trùng lặp.", "D. Sắp xếp cột A."], correct: 1, explain: "unique() trả về mảng các giá trị không trùng lặp." 
            },
            { 
                id: 120, 
                q: "Pandas: Để điền giá trị 0 vào tất cả các ô bị thiếu (NaN), dùng hàm nào?", 
                options: ["A. df.fillnan(0)", "B. df.fillna(0)", "C. df.replace_nan(0)", "D. df.set_nan(0)"], correct: 1, explain: "fillna(value) dùng để điền giá trị vào ô trống." 
            },

            // --- PART 4: OOP & NÂNG CAO (121-140) ---
            { 
                id: 121, 
                q: "OOP: <code class='font-mono bg-slate-100 px-1 rounded'>__init__</code> là gì?", 
                options: ["A. Hàm hủy (Destructor).", "B. Hàm khởi tạo (Constructor).", "C. Hàm tính toán.", "D. Hàm in ấn."], correct: 1, explain: "__init__ là method đặc biệt chạy ngay khi object được tạo." 
            },
            { 
                id: 122, 
                q: "OOP: Trong class, <code class='font-mono bg-slate-100 px-1 rounded'>self</code> đại diện cho gì?", 
                options: ["A. Class cha.", "B. Class hiện tại.", "C. Instance (đối tượng) hiện tại.", "D. Biến toàn cục."], correct: 2, explain: "self tham chiếu đến chính đối tượng đang thực thi phương thức." 
            },
            { 
                id: 123, 
                q: "OOP: Để kế thừa class Cha, cú pháp nào đúng?", 
                options: ["A. class Con(Cha):", "B. class Con extends Cha:", "C. class Con : Cha", "D. class Con implements Cha"], correct: 0, explain: "Python dùng ngoặc đơn để kế thừa: class Con(Cha)." 
            },
            { 
                id: 124, 
                q: "OOP: Biến bắt đầu bằng 2 dấu gạch dưới (ví dụ <code class='font-mono bg-slate-100 px-1 rounded'>__salary</code>) có ý nghĩa gì?", 
                options: ["A. Biến toàn cục.", "B. Biến public.", "C. Biến private (mangling name).", "D. Biến hệ thống."], correct: 2, explain: "Đây là quy ước private variable trong Python (Name Mangling), khó truy cập trực tiếp từ bên ngoài." 
            },
            { 
                id: 125, 
                q: "OOP: Hàm <code class='font-mono bg-slate-100 px-1 rounded'>super()</code> dùng để làm gì?", 
                options: ["A. Gọi phương thức của lớp cha.", "B. Tạo siêu nhân.", "C. Tăng tốc độ code.", "D. Xóa lớp cha."], correct: 0, explain: "super() cho phép truy cập các phương thức của lớp cha, thường dùng trong __init__." 
            },
            { 
                id: 126, 
                q: "Try-Except: <code class='font-mono bg-slate-100 px-1 rounded'>except Exception as e:</code> dùng để làm gì?", 
                options: ["A. Bỏ qua mọi lỗi.", "B. Bắt mọi lỗi và lưu thông tin lỗi vào biến e.", "C. Chỉ bắt lỗi Exception.", "D. Gây ra lỗi e."], correct: 1, explain: "Biến e sẽ chứa thông báo chi tiết về lỗi đã xảy ra." 
            },
            { 
                id: 127, 
                q: "File: Chế độ mở file <code class='font-mono bg-slate-100 px-1 rounded'>'a'</code> (append) có tác dụng gì?", 
                options: ["A. Đọc file.", "B. Ghi đè file (xóa cũ ghi mới).", "C. Ghi nối tiếp vào cuối file.", "D. Tạo file ảnh."], correct: 2, explain: "'a' viết tắt của Append - ghi thêm vào cuối file mà không xóa dữ liệu cũ." 
            },
            { 
                id: 128, 
                q: "Pythonic: Đoạn code <code class='font-mono bg-slate-100 px-1 rounded'>x = a if condition else b</code> gọi là gì?", 
                options: ["A. Ternary Operator (Toán tử 3 ngôi).", "B. Switch Case.", "C. Loop.", "D. Function."], correct: 0, explain: "Đây là cách viết tắt của if-else trên 1 dòng." 
            },
            { 
                id: 129, 
                q: "Modules: Thư viện <code class='font-mono bg-slate-100 px-1 rounded'>os</code> dùng để làm gì?", 
                options: ["A. Tính toán số học.", "B. Tương tác với hệ điều hành (file, thư mục, path).", "C. Vẽ biểu đồ.", "D. Gửi email."], correct: 1, explain: "os (Operating System) cung cấp các hàm xử lý file, đường dẫn, biến môi trường..." 
            },
            { 
                id: 130, 
                q: "Modules: Thư viện <code class='font-mono bg-slate-100 px-1 rounded'>json</code> có hàm <code class='font-mono bg-slate-100 px-1 rounded'>json.dumps()</code> dùng để?", 
                options: ["A. Đọc file JSON.", "B. Chuyển đổi Object Python (dict/list) thành chuỗi JSON.", "C. Xóa file JSON.", "D. Chuyển chuỗi JSON thành Dict."], correct: 1, explain: "dumps (dump string) encode object thành chuỗi JSON." 
            },
            { 
                id: 131, 
                q: "Advanced: Decorator (ví dụ @login_required) là gì?", 
                options: ["A. Một biến toàn cục.", "B. Một hàm dùng để sửa đổi hoặc mở rộng hành vi của hàm khác.", "C. Một lớp con.", "D. Một loại ghi chú."], correct: 1, explain: "Decorator là design pattern cho phép bọc (wrap) một hàm bằng một hàm khác." 
            },
            { 
                id: 132, 
                q: "Code: Kết quả của <code class='font-mono bg-slate-100 px-1 rounded'>bool([])</code>?", 
                options: ["A. True", "B. False", "C. None", "D. Error"], correct: 1, explain: "List rỗng được đánh giá là False." 
            },
            { 
                id: 133, 
                q: "String: F-string <code class='font-mono bg-slate-100 px-1 rounded'>f'Name: {name}'</code> có từ phiên bản Python nào?", 
                options: ["A. 2.7", "B. 3.0", "C. 3.6", "D. 3.10"], correct: 2, explain: "F-string được giới thiệu từ Python 3.6 và rất được ưa chuộng." 
            },
            { 
                id: 134, 
                q: "Loop: Hàm <code class='font-mono bg-slate-100 px-1 rounded'>range(10, 2, -2)</code> sinh ra dãy nào?", 
                options: ["A. 10, 8, 6, 4", "B. 10, 8, 6, 4, 2", "C. 2, 4, 6, 8, 10", "D. Lỗi"], correct: 0, explain: "Bắt đầu 10, giảm 2 mỗi lần, dừng trước 2 -> 10, 8, 6, 4." 
            },
            { 
                id: 135, 
                q: "Tuple unpacking: <code class='font-mono bg-slate-100 px-1 rounded'>a, *b, c = [1, 2, 3, 4, 5]</code>. Giá trị của b là?", 
                options: ["A. 2", "B. [2, 3, 4]", "C. [2, 3, 4, 5]", "D. [1, 2, 3]"], correct: 1, explain: "a=1, c=5 (đầu và cuối), b gom tất cả phần còn lại ở giữa -> [2, 3, 4]." 
            },
            { 
                id: 136, 
                q: "Set: <code class='font-mono bg-slate-100 px-1 rounded'>{1, 2, 3} & {2, 3, 4}</code> thực hiện phép gì?", 
                options: ["A. Union (Hợp)", "B. Intersection (Giao)", "C. Difference (Hiệu)", "D. Symmetric Difference"], correct: 1, explain: "Toán tử & đại diện cho phép giao (Intersection), lấy phần tử chung -> {2, 3}." 
            },
            { 
                id: 137, 
                q: "Dict: <code class='font-mono bg-slate-100 px-1 rounded'>d.items()</code> trả về gì?", 
                options: ["A. List các keys.", "B. List các values.", "C. List các tuple (key, value).", "D. Copy của dict."], correct: 2, explain: "items() giúp duyệt qua cả key và value cùng lúc." 
            },
            { 
                id: 138, 
                q: "Tricky: <code class='font-mono bg-slate-100 px-1 rounded'>x = [[]] * 3; x[0].append(1)</code>. Giá trị x là?", 
                options: ["A. [[1], [], []]", "B. [[1], [1], [1]]", "C. Error", "D. [[1]]"], correct: 1, explain: "Toán tử * 3 tạo ra 3 tham chiếu đến CÙNG MỘT list rỗng. Sửa 1 cái sẽ ảnh hưởng tất cả." 
            },
            { 
                id: 139, 
                q: "Numpy: Hàm nào tính tích vô hướng (dot product)?", 
                options: ["A. np.cross()", "B. np.dot()", "C. np.mul()", "D. np.prod()"], correct: 1, explain: "np.dot() hoặc toán tử @ dùng để nhân ma trận/vector." 
            },
            { 
                id: 140, 
                q: "Pandas: <code class='font-mono bg-slate-100 px-1 rounded'>df.iloc[:, -1]</code> lấy dữ liệu nào?", 
                options: ["A. Dòng cuối cùng.", "B. Cột cuối cùng.", "C. Ô cuối cùng.", "D. Dòng đầu tiên."], correct: 1, explain: ": nghĩa là lấy mọi dòng, -1 là cột cuối cùng." 
            },

            // --- PART 5: MIXED & SCENARIOS (141-170) ---
            { 
                id: 141, 
                q: "Code Logic: <div class='my-2 bg-slate-50 p-2 font-mono text-sm'>def func(a, b=2, c=3):<br>  return a + b + c<br>print(func(1, c=5))</div>", 
                options: ["A. 6", "B. 8", "C. 9", "D. Lỗi"], correct: 1, explain: "a=1, b lấy mặc định =2, c được gán =5. Tổng = 1+2+5 = 8." 
            },
            { 
                id: 142, 
                q: "String: <code class='font-mono bg-slate-100 px-1 rounded'>'apple'.find('p')</code> trả về mấy?", 
                options: ["A. 1", "B. 2", "C. 0", "D. [1, 2]"], correct: 0, explain: "find() trả về vị trí đầu tiên tìm thấy. 'p' đầu tiên ở index 1." 
            },
            { 
                id: 143, 
                q: "Math: <code class='font-mono bg-slate-100 px-1 rounded'>round(3.5)</code> và <code class='font-mono bg-slate-100 px-1 rounded'>round(4.5)</code> trong Python 3 trả về?", 
                options: ["A. 4 và 5", "B. 3 và 4", "C. 4 và 4 (Bankers Rounding)", "D. 3 và 5"], correct: 2, explain: "Python 3 dùng quy tắc 'làm tròn tới số chẵn gần nhất' cho số .5 (Banker's Rounding)." 
            },
            { 
                id: 144, 
                q: "List: <code class='font-mono bg-slate-100 px-1 rounded'>lst = [1, 2, 3]; lst.pop()</code> trả về mấy?", 
                options: ["A. 1", "B. 3", "C. [1, 2]", "D. None"], correct: 1, explain: "pop() không tham số sẽ lấy phần tử cuối cùng ra và trả về nó (số 3)." 
            },
            { 
                id: 145, 
                q: "Exception: Để tự ném ra một lỗi, ta dùng từ khóa nào?", 
                options: ["A. throw", "B. raise", "C. error", "D. exception"], correct: 1, explain: "Python dùng từ khóa raise. Ví dụ: raise ValueError('Lỗi')." 
            },
            { 
                id: 146, 
                q: "Set: Cách nào tạo một set rỗng?", 
                options: ["A. {}", "B. {0}", "C. set()", "D. []"], correct: 2, explain: "{} là dict rỗng. set() mới tạo set rỗng." 
            },
            { 
                id: 147, 
                q: "Dict: <code class='font-mono bg-slate-100 px-1 rounded'>d.setdefault('k', 0)</code> có tác dụng gì?", 
                options: ["A. Luôn gán k = 0.", "B. Trả về giá trị của k, nếu k chưa có thì gán k=0 rồi trả về 0.", "C. Xóa key k.", "D. Kiểm tra k có tồn tại không."], correct: 1, explain: "Rất hữu ích để khởi tạo giá trị cho key lần đầu xuất hiện." 
            },
            { 
                id: 148, 
                q: "OS: <code class='font-mono bg-slate-100 px-1 rounded'>os.listdir('.')</code> làm gì?", 
                options: ["A. Xóa thư mục hiện tại.", "B. Liệt kê file/folder trong thư mục hiện tại.", "C. Tạo thư mục.", "D. Đổi tên file."], correct: 1, explain: "Trả về danh sách tên các entry trong thư mục." 
            },
            { 
                id: 149, 
                q: "Logic: <code class='font-mono bg-slate-100 px-1 rounded'>any([False, False, True])</code>?", 
                options: ["A. True", "B. False", "C. None", "D. Error"], correct: 0, explain: "any() trả về True nếu có ít nhất 1 phần tử là True." 
            },
            { 
                id: 150, 
                q: "Logic: <code class='font-mono bg-slate-100 px-1 rounded'>all([True, True, False])</code>?", 
                options: ["A. True", "B. False", "C. None", "D. Error"], correct: 1, explain: "all() chỉ trả về True khi TẤT CẢ đều True." 
            },
            { 
                id: 151, 
                q: "Pandas: <code class='font-mono bg-slate-100 px-1 rounded'>df.sort_values(by='A', ascending=False)</code>?", 
                options: ["A. Sắp xếp cột A tăng dần.", "B. Sắp xếp cột A giảm dần.", "C. Xáo trộn cột A.", "D. Lọc cột A."], correct: 1, explain: "ascending=False nghĩa là giảm dần." 
            },
            { 
                id: 152, 
                q: "Pandas: <code class='font-mono bg-slate-100 px-1 rounded'>df['A'].apply(lambda x: x*2)</code>?", 
                options: ["A. Nhân đôi giá trị từng ô trong cột A.", "B. Nhân đôi số dòng.", "C. Nhân đôi tên cột.", "D. Lỗi."], correct: 0, explain: "apply() áp dụng hàm lambda cho từng phần tử trong Series." 
            },
            { 
                id: 153, 
                q: "Matplotlib: Để đặt tên cho trục tung (trục dọc), dùng hàm?", 
                options: ["A. plt.xlabel()", "B. plt.ylabel()", "C. plt.title()", "D. plt.axis()"], correct: 1, explain: "ylabel -> y-axis label." 
            },
            { 
                id: 154, 
                q: "Matplotlib: <code class='font-mono bg-slate-100 px-1 rounded'>plt.hist(x)</code> vẽ biểu đồ gì?", 
                options: ["A. Biểu đồ đường.", "B. Biểu đồ tròn.", "C. Biểu đồ phân phối tần suất (Histogram).", "D. Biểu đồ nhiệt."], correct: 2, explain: "Histogram dùng để xem phân phối của dữ liệu." 
            },
            { 
                id: 155, 
                q: "Numpy: <code class='font-mono bg-slate-100 px-1 rounded'>np.random.seed(42)</code> để làm gì?", 
                options: ["A. Tạo số 42.", "B. Cố định bộ sinh số ngẫu nhiên để kết quả tái lập được.", "C. Xóa random.", "D. Tăng tốc độ random."], correct: 1, explain: "Đặt seed giúp các lần chạy sau ra kết quả random giống hệt lần trước (reproducible)." 
            },
            { 
                id: 156, 
                q: "Type: <code class='font-mono bg-slate-100 px-1 rounded'>isinstance(5, int)</code> trả về?", 
                options: ["A. True", "B. False", "C. 5", "D. Error"], correct: 0, explain: "Kiểm tra xem 5 có phải kiểu int không -> Đúng." 
            },
            { 
                id: 157, 
                q: "Tricky: <code class='font-mono bg-slate-100 px-1 rounded'>a = [1, 2]; b = a; b = [3, 4]</code>. Giá trị a là?", 
                options: ["A. [3, 4]", "B. [1, 2]", "C. []", "D. Error"], correct: 1, explain: "Gán b = [3, 4] là gán b sang object mới, không ảnh hưởng object cũ mà a đang trỏ tới." 
            },
            { 
                id: 158, 
                q: "String: <code class='font-mono bg-slate-100 px-1 rounded'>'Hello'.lower()</code>?", 
                options: ["A. 'HELLO'", "B. 'hello'", "C. 'Hello'", "D. 'hELLO'"], correct: 1, explain: "Chuyển về chữ thường." 
            },
            { 
                id: 159, 
                q: "Operators: <code class='font-mono bg-slate-100 px-1 rounded'>3 in [1, 2, 3]</code> trả về?", 
                options: ["A. True", "B. False", "C. 2", "D. 1"], correct: 0, explain: "Toán tử in kiểm tra sự tồn tại." 
            },
            { 
                id: 160, 
                q: "Loop: Cách nào dừng vòng lặp vô hạn <code class='font-mono bg-slate-100 px-1 rounded'>while True:</code>?", 
                options: ["A. stop", "B. break", "C. exit", "D. end"], correct: 1, explain: "Lệnh break dùng để thoát vòng lặp." 
            },
            { 
                id: 161, 
                q: "Pandas: <code class='font-mono bg-slate-100 px-1 rounded'>df.shape</code> trả về gì?", 
                options: ["A. (số dòng, số cột)", "B. Tổng số phần tử", "C. Kích thước file", "D. Tên cột"], correct: 0, explain: "Attribute shape trả về tuple kích thước (rows, columns)." 
            },
            { 
                id: 162, 
                q: "Pandas: Mặc định <code class='font-mono bg-slate-100 px-1 rounded'>pd.merge()</code> sử dụng kiểu join nào?", 
                options: ["A. Outer", "B. Inner", "C. Left", "D. Right"], correct: 1, explain: "Mặc định là Inner Join (chỉ lấy phần chung)." 
            },
            { 
                id: 163, 
                q: "Numpy: <code class='font-mono bg-slate-100 px-1 rounded'>arr.T</code> là viết tắt của?", 
                options: ["A. Translation (Dịch chuyển)", "B. Transpose (Chuyển vị)", "C. Transformation", "D. Test"], correct: 1, explain: "Chuyển vị ma trận (hàng thành cột)." 
            },
            { 
                id: 164, 
                q: "OOP: Phương thức <code class='font-mono bg-slate-100 px-1 rounded'>__str__</code> phải trả về kiểu dữ liệu gì?", 
                options: ["A. int", "B. string", "C. list", "D. None"], correct: 1, explain: "Bắt buộc trả về chuỗi (string) để in ra màn hình." 
            },
            { 
                id: 165, 
                q: "Function: <code class='font-mono bg-slate-100 px-1 rounded'>def f(a, *b):</code>. Nếu gọi f(1, 2, 3) thì b là?", 
                options: ["A. [2, 3]", "B. (2, 3)", "C. {2, 3}", "D. 2"], correct: 1, explain: "*b gom các đối số thừa vào một tuple." 
            },
            { 
                id: 166, 
                q: "Dict: <code class='font-mono bg-slate-100 px-1 rounded'>{x: x**2 for x in (2, 3)}</code> tạo ra?", 
                options: ["A. [4, 9]", "B. {2: 4, 3: 9}", "C. (4, 9)", "D. {4: 2, 9: 3}"], correct: 1, explain: "Dict comprehension tạo dictionary: key 2->4, key 3->9." 
            },
            { 
                id: 167, 
                q: "Module: <code class='font-mono bg-slate-100 px-1 rounded'>import math; math.ceil(3.1)</code>?", 
                options: ["A. 3", "B. 4", "C. 3.0", "D. 3.1"], correct: 1, explain: "ceil (ceiling) làm tròn lên trần -> 4." 
            },
            { 
                id: 168, 
                q: "Module: <code class='font-mono bg-slate-100 px-1 rounded'>math.floor(3.9)</code>?", 
                options: ["A. 3", "B. 4", "C. 3.0", "D. 4.0"], correct: 0, explain: "floor (sàn) làm tròn xuống -> 3." 
            },
            { 
                id: 169, 
                q: "List: <code class='font-mono bg-slate-100 px-1 rounded'>list(range(3))</code>?", 
                options: ["A. [1, 2, 3]", "B. [0, 1, 2]", "C. [0, 1, 2, 3]", "D. (0, 1, 2)"], correct: 1, explain: "Chuyển range object thành list." 
            },
            { 
                id: 170, 
                q: "Python: Python là ngôn ngữ dạng?", 
                options: ["A. Compiled (Biên dịch)", "B. Interpreted (Thông dịch)", "C. Assembly", "D. Machine Code"], correct: 1, explain: "Python chủ yếu được biết đến là ngôn ngữ thông dịch (Interpreted), chạy từng dòng lệnh." 
            },
            // ========================================================================
            // --- NỘI DUNG MỞ RỘNG TỪ FILE DÂPN.DOCX (ID 171 - 221) ---
            // ========================================================================

            { 
                id: 171, 
                q: "OOP: Phương thức nào được gọi khi thực hiện phép cộng `+` giữa hai đối tượng (Operator Overloading)?", 
                options: ["A. __plus__", "B. __add__", "C. __sum__", "D. __concat__"], correct: 1, explain: "Trong Python, phương thức magic `__add__` định nghĩa hành vi của toán tử `+`." 
            },
            { 
                id: 172, 
                q: "Scope: Biến được khai báo bên trong hàm nhưng có từ khóa `global` sẽ thuộc phạm vi nào?", 
                options: ["A. Local (Cục bộ)", "B. Enclosing (Bao đóng)", "C. Global (Toàn cục)", "D. Built-in"], correct: 2, explain: "Từ khóa `global` cho phép hàm sửa đổi biến ở phạm vi toàn cục." 
            },
            { 
                id: 173, 
                q: "Loop: Hàm `range(10, 0, -2)` sẽ sinh ra dãy số nào?", 
                options: ["A. 10, 8, 6, 4, 2", "B. 10, 8, 6, 4, 2, 0", "C. 0, 2, 4, 6, 8, 10", "D. Lỗi cú pháp"], correct: 0, explain: "Bắt đầu từ 10, giảm 2 đơn vị mỗi bước, dừng trước 0 -> 10, 8, 6, 4, 2." 
            },
            { 
                id: 174, 
                q: "Module: Khi `import my_module`, code trong `my_module` sẽ được thực thi bao nhiêu lần?", 
                options: ["A. Mỗi lần gọi hàm trong module.", "B. Chỉ một lần duy nhất khi import lần đầu.", "C. Không bao giờ chạy.", "D. Mỗi lần import lại."], correct: 1, explain: "Python cache module, nên code cấp cao nhất (top-level) chỉ chạy 1 lần trong suốt vòng đời chương trình." 
            },
            { 
                id: 175, 
                q: "Numpy: Hàm `np.linspace(0, 10, 5)` tạo ra mảng nào?", 
                options: ["A. [0, 2, 4, 6, 8, 10]", "B. [0. , 2.5, 5. , 7.5, 10. ]", "C. [0, 1, 2, 3, 4]", "D. 5 số ngẫu nhiên từ 0-10"], correct: 1, explain: "`linspace` chia đều đoạn [0, 10] thành 5 điểm mốc (tính cả đầu và cuối) -> 0, 2.5, 5, 7.5, 10." 
            },
            { 
                id: 176, 
                q: "Tuple: Kết quả của `(1, 2) * 3` là gì?", 
                options: ["A. (3, 6)", "B. (1, 2, 1, 2, 1, 2)", "C. ((1, 2), (1, 2), (1, 2))", "D. Lỗi"], correct: 1, explain: "Toán tử `*` với tuple thực hiện lặp lại nội dung tuple." 
            },
            { 
                id: 177, 
                q: "List: Code `[x for x in range(10) if x % 2 == 0]` tạo ra list gì?", 
                options: ["A. Số lẻ nhỏ hơn 10", "B. Số chẵn nhỏ hơn 10", "C. 10 số chẵn đầu tiên", "D. List rỗng"], correct: 1, explain: "Lấy các số trong range(10) chia hết cho 2 -> 0, 2, 4, 6, 8." 
            },
            { 
                id: 178, 
                q: "String: Phương thức `s.find('x')` trả về gì nếu 'x' không có trong chuỗi s?", 
                options: ["A. Báo lỗi ValueError", "B. Trả về -1", "C. Trả về None", "D. Trả về 0"], correct: 1, explain: "`find` trả về -1 nếu không tìm thấy, khác với `index` sẽ báo lỗi." 
            },
            { 
                id: 179, 
                q: "OOP: Hàm `super().__init__()` thường được dùng ở đâu?", 
                options: ["A. Trong hàm tạo của lớp cha.", "B. Trong hàm tạo của lớp con để khởi tạo lớp cha.", "C. Bên ngoài class.", "D. Để xóa object."], correct: 1, explain: "Dùng để gọi constructor của lớp cha khi kế thừa." 
            },
            { 
                id: 180, 
                q: "Matplotlib: Để lưu biểu đồ hiện tại ra file ảnh, dùng lệnh nào?", 
                options: ["A. plt.show()", "B. plt.save_image('fig.png')", "C. plt.savefig('fig.png')", "D. plt.export('fig.png')"], correct: 2, explain: "`savefig` là lệnh chuẩn để xuất file ảnh." 
            },
            { 
                id: 181, 
                q: "String: Lỗi ở dòng nào?<div class='my-2 bg-slate-50 p-2 font-mono text-xs'>#1 s = 'Python'\n#2 s[0] = 'J'\n#3 print(s)</div>", 
                options: ["A. Dòng 1", "B. Dòng 2", "C. Dòng 3", "D. Không có lỗi"], correct: 1, explain: "String là immutable, không thể gán lại giá trị theo chỉ số (`s[0] = ...`)." 
            },
            { 
                id: 182, 
                q: "Syntax: Từ khóa nào dùng để định nghĩa một hàm ẩn danh (anonymous function)?", 
                options: ["A. def", "B. func", "C. lambda", "D. anonymous"], correct: 2, explain: "`lambda` dùng để tạo hàm nhỏ gọn, không cần đặt tên." 
            },
            { 
                id: 183, 
                q: "Tuple Unpacking: `x, y = 10, 20`. Lệnh `x, y = y, x` thực hiện việc gì?", 
                options: ["A. Gán x = y.", "B. Gán y = x.", "C. Hoán đổi giá trị x và y.", "D. Lỗi cú pháp."], correct: 2, explain: "Đây là cách hoán đổi (swap) biến đặc trưng và pythonic nhất." 
            },
            { 
                id: 184, 
                q: "Exception: `finally` block sẽ chạy khi nào?", 
                options: ["A. Chỉ khi không có lỗi.", "B. Chỉ khi có lỗi.", "C. Luôn luôn chạy, bất kể có lỗi hay không.", "D. Khi gặp lệnh return."], correct: 2, explain: "`finally` đảm bảo code dọn dẹp luôn được thực thi." 
            },
            { 
                id: 185, 
                q: "Algorithm: Hàm `all([True, True, False])` trả về gì?", 
                options: ["A. True", "B. False", "C. None", "D. Lỗi"], correct: 1, explain: "`all` chỉ trả về True nếu TẤT CẢ phần tử đều là True." 
            },
            { 
                id: 186, 
                q: "Slicing: `a = [1, 2, 3, 4, 5]`. `a[::-2]` trả về gì?", 
                options: ["A. [5, 3, 1]", "B. [1, 3, 5]", "C. [5, 4, 3]", "D. [2, 4]"], correct: 0, explain: "Lấy ngược từ cuối, bước nhảy -2 -> 5, 3, 1." 
            },
            { 
                id: 187, 
                q: "List: `lst.pop(0)` tương đương với hành động nào?", 
                options: ["A. Xóa phần tử cuối.", "B. Xóa phần tử đầu tiên (Queue dequeue).", "C. Xóa toàn bộ list.", "D. Lỗi."], correct: 1, explain: "`pop(0)` lấy và xóa phần tử tại index 0." 
            },
            { 
                id: 188, 
                q: "List: Phương thức `lst.insert(2, 'x')` làm gì?", 
                options: ["A. Thay thế phần tử index 2 bằng 'x'.", "B. Chèn 'x' vào vị trí index 2, đẩy các phần tử sau lùi lại.", "C. Xóa phần tử index 2.", "D. Thêm 'x' vào cuối list."], correct: 1, explain: "`insert` chèn vào, không ghi đè." 
            },
            { 
                id: 189, 
                q: "Set: Để thêm một phần tử vào Set, dùng hàm nào?", 
                options: ["A. append()", "B. push()", "C. add()", "D. insert()"], correct: 2, explain: "Set dùng `add()`, List mới dùng `append()`." 
            },
            { 
                id: 190, 
                q: "Tuple: `t = (1)`. Kiểu dữ liệu của `t` là gì?", 
                options: ["A. tuple", "B. int", "C. list", "D. char"], correct: 1, explain: "Thiếu dấu phẩy `,` nên Python hiểu là số nguyên 1 trong ngoặc. Phải là `(1,)` mới là tuple." 
            },
            { 
                id: 191, 
                q: "Logic: `True or False and False` có kết quả là?", 
                options: ["A. True", "B. False", "C. None", "D. Lỗi"], correct: 0, explain: "`and` ưu tiên cao hơn `or`. `False and False` -> `False`. `True or False` -> `True`." 
            },
            { 
                id: 192, 
                q: "Input: `eval(input())` có rủi ro gì về bảo mật?", 
                options: ["A. Không có rủi ro.", "B. Có thể thực thi mã độc do người dùng nhập vào.", "C. Chỉ gây lỗi cú pháp.", "D. Làm chậm chương trình."], correct: 1, explain: "`eval` sẽ chạy bất cứ code Python nào được nhập vào, rất nguy hiểm." 
            },
            { 
                id: 193, 
                q: "Recursion: Điều kiện quan trọng nhất để hàm đệ quy dừng lại là gì?", 
                options: ["A. Base case (Điều kiện cơ sở).", "B. Loop.", "C. Global variable.", "D. Return None."], correct: 0, explain: "Phải có điểm dừng (base case) để tránh đệ quy vô hạn (Stack Overflow)." 
            },
            { 
                id: 194, 
                q: "String: Hàm `s.split()` mặc định tách chuỗi dựa trên ký tự nào?", 
                options: ["A. Dấu phẩy (,)", "B. Dấu chấm (.)", "C. Khoảng trắng (Whitespace: space, tab, newline)", "D. Không tách gì cả"], correct: 2, explain: "Mặc định `split()` tách theo mọi loại khoảng trắng." 
            },
            { 
                id: 195, 
                q: "Inheritance: Lớp `object` trong Python là gì?", 
                options: ["A. Lớp cơ sở (base class) của mọi lớp trong Python 3.", "B. Một module.", "C. Một hàm.", "D. Không có ý nghĩa."], correct: 0, explain: "Mọi class trong Python 3 đều mặc định kế thừa từ `object`." 
            },
            { 
                id: 196, 
                q: "Numpy: `np.eye(3)` tạo ra ma trận gì?", 
                options: ["A. Ma trận toàn số 1.", "B. Ma trận đơn vị (Identity matrix) 3x3.", "C. Ma trận đường chéo 1, 2, 3.", "D. Ma trận rỗng."], correct: 1, explain: "`eye` (phát âm giống I - Identity) tạo ma trận đơn vị." 
            },
            { 
                id: 197, 
                q: "Dictionary: Lệnh `d.get('key', 0)` trả về gì nếu 'key' không tồn tại?", 
                options: ["A. None", "B. Lỗi KeyError", "C. 0", "D. False"], correct: 2, explain: "Tham số thứ 2 của `get` là giá trị mặc định trả về khi không tìm thấy key." 
            },
            { 
                id: 198, 
                q: "Dictionary: Cách nào duyệt qua cả Key và Value?", 
                options: ["A. for k in d:", "B. for k, v in d.items():", "C. for v in d.values():", "D. for x in d.all():"], correct: 1, explain: "`items()` trả về các cặp (key, value)." 
            },
            { 
                id: 199, 
                q: "Pandas: `df.columns` trả về thông tin gì?", 
                options: ["A. Số lượng dòng.", "B. Tên các cột (Header).", "C. Kiểu dữ liệu.", "D. Index của dòng."], correct: 1, explain: "Thuộc tính `columns` chứa danh sách tên các cột." 
            },
            { 
                id: 200, 
                q: "Class: Thuộc tính `__dict__` của một đối tượng chứa gì?", 
                options: ["A. Mã nguồn của lớp.", "B. Tên lớp.", "C. Dictionary chứa các thuộc tính (attribute) của đối tượng đó.", "D. Danh sách hàm."], correct: 2, explain: "`__dict__` lưu trữ các thuộc tính instance dưới dạng dictionary." 
            },
            { 
                id: 201, 
                q: "List: `a = [1, 2]; b = a[:]`. `b` là gì?", 
                options: ["A. Tham chiếu đến a.", "B. Bản sao (shallow copy) của a.", "C. List rỗng.", "D. Lỗi."], correct: 1, explain: "Slicing `[:]` tạo ra một list mới copy dữ liệu từ a." 
            },
            { 
                id: 202, 
                q: "Syntax: Toán tử `//` khác `/` ở điểm nào?", 
                options: ["A. Giống hệt nhau.", "B. `//` là chia lấy phần nguyên (floor div), `/` là chia thực.", "C. `//` là chia lấy dư.", "D. `//` dùng cho số phức."], correct: 1, explain: "`5 // 2 = 2`, `5 / 2 = 2.5`." 
            },
            { 
                id: 203, 
                q: "Scope: Biến khai báo trong vòng lặp `for` (ví dụ `for i in range(5)`) có tồn tại sau khi vòng lặp kết thúc không?", 
                options: ["A. Không, nó bị xóa ngay.", "B. Có, nó giữ giá trị cuối cùng.", "C. Tùy trình biên dịch.", "D. Chỉ trong hàm."], correct: 1, explain: "Trong Python, biến vòng lặp không bị giới hạn scope trong khối for, nó rò rỉ ra ngoài." 
            },
            { 
                id: 204, 
                q: "Numpy: Để gộp 2 mảng theo chiều dọc (Vertical), dùng hàm nào?", 
                options: ["A. np.hstack", "B. np.vstack", "C. np.col_stack", "D. np.sum"], correct: 1, explain: "`vstack` (Vertical Stack) xếp chồng các mảng lên nhau." 
            },
            { 
                id: 205, 
                q: "Code: Kết quả `print(type(lambda x: x))`?", 
                options: ["A. <class 'function'>", "B. <class 'lambda'>", "C. <class 'code'>", "D. Error"], correct: 0, explain: "Lambda thực chất cũng là một function." 
            },
            { 
                id: 206, 
                q: "List: `l = [1, 2, 3]`. `l.append([4, 5])` tạo ra list nào?", 
                options: ["A. [1, 2, 3, 4, 5]", "B. [1, 2, 3, [4, 5]]", "C. [1, 2, 3, 4]", "D. Lỗi"], correct: 1, explain: "`append` thêm nguyên đối tượng vào cuối. Muốn ra A phải dùng `extend`." 
            },
            { 
                id: 207, 
                q: "Algorithm: Hàm `zip` sẽ dừng lại khi nào?", 
                options: ["A. Khi danh sách dài nhất hết phần tử.", "B. Khi danh sách ngắn nhất hết phần tử.", "C. Khi gặp lỗi.", "D. Không bao giờ dừng."], correct: 1, explain: "`zip` mặc định dừng theo độ dài của iterable ngắn nhất." 
            },
            { 
                id: 208, 
                q: "List Comprehension: `[x+y for x in 'ab' for y in '12']` tạo ra gì?", 
                options: ["A. ['a1', 'b2']", "B. ['a1', 'a2', 'b1', 'b2']", "C. ['ab', '12']", "D. Lỗi"], correct: 1, explain: "Tương đương 2 vòng for lồng nhau -> Tích Đề-các." 
            },
            { 
                id: 209, 
                q: "Tuple: Hàm `divmod(10, 3)` trả về tuple nào?", 
                options: ["A. (3, 1)", "B. (3.33, 1)", "C. (10, 3)", "D. (1, 3)"], correct: 0, explain: "Trả về (thương nguyên, số dư)." 
            },
            { 
                id: 210, 
                q: "OOP: `isinstance(obj, Class)` dùng để làm gì?", 
                options: ["A. Kiểm tra xem obj có phải là instance của Class (hoặc class con) không.", "B. Kiểm tra obj có phương thức của Class không.", "C. Tạo instance mới.", "D. Xóa instance."], correct: 0, explain: "Kiểm tra kiểu dữ liệu đối tượng." 
            },
            { 
                id: 211, 
                q: "Int: Kết quả của `10 ** -1` trong Python 3?", 
                options: ["A. 0", "B. 0.1", "C. -10", "D. Lỗi"], correct: 1, explain: "Python tự động chuyển sang float: 1/10 = 0.1." 
            },
            { 
                id: 212, 
                q: "Function: `def f(a, b=2, c=3):`. Lời gọi nào hợp lệ?", 
                options: ["A. f(c=10)", "B. f(1, c=10)", "C. f(b=5)", "D. f()"], correct: 1, explain: "Tham số `a` không có mặc định nên bắt buộc phải truyền (theo vị trí hoặc tên). A, C, D đều thiếu `a`." 
            },
            { 
                id: 213, 
                q: "Data Type: `set` có thể chứa phần tử là `list` không?", 
                options: ["A. Có", "B. Không, vì list là mutable (unhashable).", "C. Được nếu list rỗng.", "D. Tùy phiên bản."], correct: 1, explain: "Phần tử của Set phải là immutable (như số, chuỗi, tuple)." 
            },
            { 
                id: 214, 
                q: "Numpy: `arr.shape` trả về `(2, 3)` nghĩa là gì?", 
                options: ["A. Mảng có 2 phần tử, giá trị 3.", "B. Mảng 2 chiều: 2 hàng, 3 cột.", "C. Mảng 3 chiều.", "D. Mảng 1 chiều có 5 phần tử."], correct: 1, explain: "Shape biểu diễn kích thước các chiều." 
            },
            { 
                id: 215, 
                q: "Numpy: `np.random.rand(3)` sinh ra gì?", 
                options: ["A. 3 số nguyên ngẫu nhiên.", "B. 3 số thực ngẫu nhiên trong khoảng [0, 1).", "C. Ma trận 3x3.", "D. Số 3 ngẫu nhiên."], correct: 1, explain: "`rand` sinh số thực phân phối đều từ 0 đến 1." 
            },
            { 
                id: 216, 
                q: "Numpy: Để lấy các phần tử lớn hơn 5 trong mảng a: `a[a > 5]`, kỹ thuật này gọi là gì?", 
                options: ["A. Slicing", "B. Boolean Indexing (Masking)", "C. Fancy Indexing", "D. Filtering"], correct: 1, explain: "Dùng mảng boolean làm index để lọc dữ liệu." 
            },
            { 
                id: 217, 
                q: "Syntax: `x = 10; y = 20`. Lệnh `print(f'{x} + {y} = {x+y}')` in ra gì?", 
                options: ["A. {x} + {y} = {x+y}", "B. 10 + 20 = 30", "C. x + y = 30", "D. Lỗi"], correct: 1, explain: "F-string thay thế giá trị biến vào trong chuỗi." 
            },
            { 
                id: 218, 
                q: "Code Logic: `x = True; y = False`. `not x or y` trả về?", 
                options: ["A. True", "B. False", "C. None", "D. Error"], correct: 1, explain: "`not True` -> `False`. `False or False` -> `False`." 
            },
            { 
                id: 219, 
                q: "List: `a = [1, 2, 3]`. `del a[:]` tương đương với?", 
                options: ["A. a.clear()", "B. del a", "C. a.remove()", "D. a.pop()"], correct: 0, explain: "Xóa lát cắt toàn bộ list sẽ làm rỗng list (`[]`), giống `clear()`." 
            },
            { 
                id: 220, 
                q: "Exception: `raise ValueError('Lỗi')` dùng để làm gì?", 
                options: ["A. Bắt lỗi.", "B. Chủ động ném ra một ngoại lệ (Exception).", "C. In ra màn hình.", "D. Dừng chương trình không báo lỗi."], correct: 1, explain: "Từ khóa `raise` dùng để kích hoạt một exception." 
            },
            { 
                id: 221, 
                q: "Pandas: Để đọc file Excel, cần cài thêm thư viện phụ trợ nào (thường gặp)?", 
                options: ["A. numpy", "B. openpyxl", "C. matplotlib", "D. requests"], correct: 1, explain: "Pandas cần engine như `openpyxl` hoặc `xlrd` để đọc ghi file .xlsx." 
            }
        ];

        /* ================= APP LOGIC ================= */
        const sidebarList = document.getElementById('sidebar-list');
        const mobileList = document.getElementById('mobile-list');
        const contentDisplay = document.getElementById('content-display');
        
        // Tab Logic
        function switchMainTab(tab) {
            const theoryTab = document.getElementById('theory-tab');
            const testTab = document.getElementById('test-tab');
            const btnTheory = document.getElementById('btn-tab-theory');
            const btnTest = document.getElementById('btn-tab-test');

            if (tab === 'theory') {
                theoryTab.classList.remove('hidden');
                testTab.classList.add('hidden');
                testTab.classList.remove('flex');
                
                // Active Styles
                btnTheory.classList.add('bg-white', 'text-blue-600', 'shadow-sm');
                btnTheory.classList.remove('text-slate-500', 'hover:text-slate-700');
                
                btnTest.classList.remove('bg-white', 'text-blue-600', 'shadow-sm');
                btnTest.classList.add('text-slate-500', 'hover:text-slate-700');
            } else {
                theoryTab.classList.add('hidden');
                testTab.classList.remove('hidden');
                testTab.classList.add('flex');

                // Active Styles
                btnTest.classList.add('bg-white', 'text-blue-600', 'shadow-sm');
                btnTest.classList.remove('text-slate-500', 'hover:text-slate-700');

                btnTheory.classList.remove('bg-white', 'text-blue-600', 'shadow-sm');
                btnTheory.classList.add('text-slate-500', 'hover:text-slate-700');
            }
        }

        /* ----- THEORY LOGIC (Original) ----- */
        let activeSection = 'list';
        let currentChartHelpers = []; 

        function init() {
            renderNav();
            renderContent(activeSection);
        }

        function renderNav() {
            const html = SECTIONS.map(sec => `
                <button onclick="switchSection('${sec.id}')" 
                    class="w-full text-left px-4 py-3 rounded-xl flex items-center gap-3 font-semibold transition-all duration-200
                    ${sec.id === activeSection ? 'nav-active' : 'text-slate-600 hover:bg-slate-50'}">
                    <div class="w-6 text-center"><i class="fa-solid ${sec.icon}"></i></div>
                    <span class="truncate">${sec.title}</span>
                </button>
            `).join('');
            
            sidebarList.innerHTML = html;
            
            mobileList.innerHTML = SECTIONS.map(sec => `
                <button onclick="switchSection('${sec.id}')" 
                    class="px-4 py-2 rounded-full text-sm font-bold border transition-colors shrink-0
                    ${sec.id === activeSection ? 'bg-slate-800 text-white border-slate-800' : 'bg-white text-slate-600 border-slate-200'}">
                    ${sec.title}
                </button>
            `).join('');
        }

        function switchSection(id) {
            activeSection = id;
            renderNav();
            renderContent(id);
        }

        function renderContent(id) {
            const data = SECTIONS.find(s => s.id === id);
            
            let html = `
                <div class="mb-6 animate-[fadeIn_0.4s_ease-out]">
                    <div class="flex items-center gap-4 p-6 bg-white rounded-2xl border border-slate-200 shadow-sm">
                        <div class="w-14 h-14 rounded-xl bg-${data.color}-100 text-${data.color}-600 flex items-center justify-center text-3xl shrink-0">
                            <i class="fa-solid ${data.icon}"></i>
                        </div>
                        <div>
                            <h2 class="text-2xl font-bold text-slate-800">${data.title}</h2>
                            <p class="text-slate-500">${data.desc}</p>
                        </div>
                    </div>
                </div>
            `;

            if (data.isGallery) {
                html += `<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">`;
                data.items.forEach((item, idx) => {
                    html += `
                        <div onclick="openModal('${id}', ${idx})" class="group bg-white rounded-2xl border border-slate-200 overflow-hidden cursor-pointer hover:shadow-xl hover:-translate-y-1 transition-all duration-300">
                            <div class="h-40 bg-slate-50 flex items-center justify-center p-6 border-b border-slate-100 group-hover:bg-blue-50/50 transition-colors">
                                ${item.svg}
                            </div>
                            <div class="p-5">
                                <h3 class="font-bold text-slate-800 text-lg mb-1 group-hover:text-blue-600 transition-colors">${item.title}</h3>
                                <div class="text-xs text-slate-400 font-mono mb-3">Project Mode</div>
                                <div class="flex items-center text-sm text-blue-500 font-bold opacity-0 group-hover:opacity-100 transition-opacity transform translate-y-2 group-hover:translate-y-0">
                                    Xem mẫu <i class="fa-solid fa-arrow-right ml-2"></i>
                                </div>
                            </div>
                        </div>
                    `;
                });
                html += `</div>`;
            } else {
                html += `<div class="grid grid-cols-1 lg:grid-cols-2 gap-4">`;
                data.items.forEach((item, idx) => {
                    html += `
                        <div onclick="openModal('${id}', ${idx})" class="item-card bg-white p-5 rounded-xl border border-slate-200 cursor-pointer hover:border-blue-400 group transition-all shadow-sm hover:shadow-md">
                            <div class="flex items-start justify-between mb-2">
                                <code class="text-sm font-bold text-blue-700 bg-blue-50 px-2 py-1 rounded font-mono group-hover:bg-blue-600 group-hover:text-white transition-colors break-all">${item.cmd}</code>
                                <i class="fa-solid fa-expand text-slate-300 group-hover:text-blue-400 ml-2"></i>
                            </div>
                            <p class="text-sm text-slate-600 line-clamp-2 font-medium">${item.desc}</p>
                        </div>
                    `;
                });
                html += `</div>`;
            }

            contentDisplay.innerHTML = html;
        }

        /* ----- TEST LOGIC (NEW) ----- */
        let currentQuestions = [];
        let userAnswers = {}; // { qID: optionIndex }
        
        function getUsedQuestions() {
            const used = localStorage.getItem('py_master_used_questions');
            return used ? JSON.parse(used) : [];
        }

        function setUsedQuestions(ids) {
            let used = getUsedQuestions();
            // Add new IDs and ensure uniqueness
            const newUsed = [...new Set([...used, ...ids])];
            localStorage.setItem('py_master_used_questions', JSON.stringify(newUsed));
        }

        function startTest() {
            // 1. Filter questions logic
            const usedIDs = getUsedQuestions();
            let availableQuestions = QUESTION_BANK.filter(q => !usedIDs.includes(q.id));
            
            // If we ran out of new questions or have fewer than 30, reset or mix
            if (availableQuestions.length < 30) {
                // Not enough new questions. Let's take all available + random old ones to fill 30
                // Or simply reset history if totally empty? Let's just mix.
                const needed = 30 - availableQuestions.length;
                const oldQuestions = QUESTION_BANK.filter(q => usedIDs.includes(q.id));
                // Shuffle old
                const shuffledOld = oldQuestions.sort(() => 0.5 - Math.random());
                availableQuestions = [...availableQuestions, ...shuffledOld.slice(0, needed)];
                
                // Optional: Clear history if we looped fully?
                // localStorage.removeItem('py_master_used_questions'); 
            }

            // 2. Shuffle and pick 30
            currentQuestions = availableQuestions.sort(() => 0.5 - Math.random()).slice(0, 30);
            userAnswers = {};

            // 3. Render UI
            document.getElementById('test-start-screen').classList.add('hidden');
            document.getElementById('test-quiz-screen').classList.remove('hidden');
            document.getElementById('test-quiz-screen').classList.add('flex');
            document.getElementById('test-result-screen').classList.add('hidden');
            document.getElementById('test-result-screen').classList.remove('flex');

            renderQuestions();
            updateProgress();
        }

        function renderQuestions() {
            const container = document.getElementById('questions-container');
            container.innerHTML = currentQuestions.map((q, index) => `
                <div class="bg-white p-6 rounded-xl border border-slate-200 shadow-sm transition-all hover:shadow-md" id="q-card-${q.id}">
                    <div class="flex gap-3 mb-4">
                        <span class="bg-blue-100 text-blue-700 font-bold w-8 h-8 flex items-center justify-center rounded-lg shrink-0">${index + 1}</span>
                        <h3 class="font-semibold text-lg text-slate-800 leading-relaxed">${q.q}</h3>
                    </div>
                    <div class="space-y-3 pl-11">
                        ${q.options.map((opt, oIdx) => `
                            <div class="quiz-option border border-slate-200 rounded-lg p-3 flex items-center gap-3" 
                                 onclick="selectAnswer(${q.id}, ${oIdx})" id="opt-${q.id}-${oIdx}">
                                <div class="w-5 h-5 rounded-full border-2 border-slate-300 flex items-center justify-center text-white shrink-0" id="check-${q.id}-${oIdx}">
                                    <i class="fa-solid fa-check text-xs opacity-0"></i>
                                </div>
                                <span class="text-slate-700">${opt}</span>
                            </div>
                        `).join('')}
                    </div>
                </div>
            `).join('');
            
            document.getElementById('q-total').innerText = currentQuestions.length;
        }

        function selectAnswer(qId, optIdx) {
            userAnswers[qId] = optIdx;
            
            // UI Update
            // Remove selected class from all options of this question
            const q = currentQuestions.find(i => i.id === qId);
            q.options.forEach((_, idx) => {
                const el = document.getElementById(`opt-${qId}-${idx}`);
                const check = document.getElementById(`check-${qId}-${idx}`);
                
                el.classList.remove('selected', 'bg-blue-50', 'border-blue-500');
                check.classList.remove('bg-blue-500', 'border-blue-500');
                check.querySelector('i').classList.add('opacity-0');
            });

            // Add selected to clicked
            const el = document.getElementById(`opt-${qId}-${optIdx}`);
            const check = document.getElementById(`check-${qId}-${optIdx}`);
            
            el.classList.add('selected', 'bg-blue-50', 'border-blue-500');
            check.classList.add('bg-blue-500', 'border-blue-500');
            check.querySelector('i').classList.remove('opacity-0');

            updateProgress();
        }

        function updateProgress() {
            const answeredCount = Object.keys(userAnswers).length;
            const total = currentQuestions.length;
            const percent = (answeredCount / total) * 100;
            
            document.getElementById('progress-bar').style.width = `${percent}%`;
            document.getElementById('q-current').innerText = answeredCount;
        }

        function submitTest() {
            const answeredCount = Object.keys(userAnswers).length;
            if (answeredCount < currentQuestions.length) {
                if(!confirm(`Bạn mới làm ${answeredCount}/${currentQuestions.length} câu. Bạn có chắc muốn nộp bài không?`)) {
                    return;
                }
            }
            
            finishTest();
        }

        function finishTest() {
            // 1. Calculate Score
            let correctCount = 0;
            currentQuestions.forEach(q => {
                if (userAnswers[q.id] === q.correct) {
                    correctCount++;
                }
            });

            // 2. Save Used Questions
            const usedIDs = currentQuestions.map(q => q.id);
            setUsedQuestions(usedIDs);

            // 3. Render Result Screen
            document.getElementById('test-quiz-screen').classList.add('hidden');
            document.getElementById('test-quiz-screen').classList.remove('flex');
            
            const resultScreen = document.getElementById('test-result-screen');
            resultScreen.classList.remove('hidden');
            resultScreen.classList.add('flex');
            
            document.getElementById('score-display').innerText = `${correctCount}/30`;
            
            const msgEl = document.getElementById('score-message');
            if (correctCount >= 28) msgEl.innerText = "Vô thi nhớ chỉ tao!";
            else if (correctCount >= 20) msgEl.innerText = "Làm tốt lắm con trai của ta!";
            else if (correctCount >= 15) msgEl.innerText = "Hơi non!";
            else msgEl.innerText = "Thôi ở nhà chớ đi thi chi mệt.";

            // 4. Render Details
            const container = document.getElementById('result-detail-container');
            container.innerHTML = currentQuestions.map((q, idx) => {
                const isCorrect = userAnswers[q.id] === q.correct;
                const userOptIdx = userAnswers[q.id];
                
                return `
                    <div class="bg-white p-6 rounded-xl border-l-4 ${isCorrect ? 'border-green-500' : 'border-red-500'} shadow-sm">
                        <div class="flex gap-2 mb-3">
                            <span class="font-bold ${isCorrect ? 'text-green-600' : 'text-red-500'}">Câu ${idx+1}:</span>
                            <span class="font-medium text-slate-800">${q.q}</span>
                        </div>
                        
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-2 mb-4 text-sm">
                           ${q.options.map((opt, oIdx) => {
                               let className = "p-2 rounded border border-transparent ";
                               if (oIdx === q.correct) className += "bg-green-100 text-green-800 border-green-200 font-bold";
                               else if (oIdx === userOptIdx && !isCorrect) className += "bg-red-100 text-red-800 border-red-200";
                               else className += "text-slate-500";
                               
                               return `<div class="${className}">${opt}</div>`;
                           }).join('')}
                        </div>

                        <div class="bg-slate-50 p-3 rounded-lg text-sm text-slate-600">
                            <strong class="text-blue-600"><i class="fa-solid fa-circle-info mr-1"></i>Giải thích:</strong> ${q.explain}
                        </div>
                    </div>
                `;
            }).join('');
            
            // Scroll to top
            document.getElementById('test-tab').scrollTo(0, 0);
        }

        function resetTest() {
            document.getElementById('test-result-screen').classList.add('hidden');
            document.getElementById('test-result-screen').classList.remove('flex');
            document.getElementById('test-start-screen').classList.remove('hidden');
        }

        /* ----- MODAL LOGIC (Original) ----- */
        const modalOverlay = document.getElementById('modal-overlay');
        const modalPanel = document.getElementById('modal-panel');
        
        const mTitle = document.getElementById('m-title');
        const mSubtitle = document.getElementById('m-subtitle');
        const mDesc = document.getElementById('m-desc');
        const mCode = document.getElementById('m-code');
        const mVisual = document.getElementById('m-visual-area');
        const btnHelper = document.getElementById('btn-helper-funcs');

        function openModal(secId, idx) {
            const section = SECTIONS.find(s => s.id === secId);
            const item = section.items[idx];

            mTitle.innerText = item.title || item.cmd;
            mSubtitle.innerText = section.title;
            mDesc.innerText = item.desc;
            mCode.textContent = item.ex;

            if (section.isGallery) {
                mVisual.innerHTML = item.svg;
                mVisual.classList.remove('hidden');
                if (item.helpers) {
                    currentChartHelpers = item.helpers;
                    btnHelper.classList.remove('hidden');
                } else {
                    btnHelper.classList.add('hidden');
                }
            } else {
                mVisual.classList.add('hidden');
                btnHelper.classList.add('hidden');
            }

            modalOverlay.classList.remove('hidden');
            requestAnimationFrame(() => {
                modalOverlay.classList.remove('opacity-0');
                modalPanel.classList.remove('scale-95');
                modalPanel.classList.add('scale-100');
            });

            Prism.highlightElement(mCode);
        }

        function closeModal() {
            modalOverlay.classList.add('opacity-0');
            modalPanel.classList.remove('scale-100');
            modalPanel.classList.add('scale-95');
            setTimeout(() => {
                modalOverlay.classList.add('hidden');
                closeHelperModal();
            }, 200);
        }

        /* ----- HELPER MODAL (Original) ----- */
        const helperOverlay = document.getElementById('helper-overlay');
        const helperPanel = document.getElementById('helper-panel');
        const helperList = document.getElementById('helper-list');

        function openHelperModal() {
            helperList.innerHTML = currentChartHelpers.map(h => `
                <div class="bg-white p-4 rounded-lg border border-slate-200 shadow-sm">
                    <div class="flex items-center gap-2 mb-2">
                        <span class="px-2 py-1 bg-blue-100 text-blue-700 font-bold text-xs rounded font-mono">${h.name}</span>
                    </div>
                    <code class="block bg-slate-800 text-green-400 p-3 rounded text-xs font-mono mb-2 overflow-x-auto">${h.syntax}</code>
                    <p class="text-sm text-slate-600">${h.desc}</p>
                </div>
            `).join('');

            helperOverlay.classList.remove('hidden');
            requestAnimationFrame(() => {
                helperPanel.classList.remove('translate-x-full');
            });
        }

        function closeHelperModal() {
            helperPanel.classList.add('translate-x-full');
            setTimeout(() => {
                helperOverlay.classList.add('hidden');
            }, 300);
        }

        modalOverlay.addEventListener('click', e => {
            if(e.target === modalOverlay) closeModal();
        });
        
        init();

    </script>
</body>
</html>
